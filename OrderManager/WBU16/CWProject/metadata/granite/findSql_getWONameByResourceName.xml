<?xml version="1.0" encoding="UTF-8" ?>
<findSql name="granite.getWONameByResourceName">
  <dbSchema>GRANITE</dbSchema>
  <extends>find_com.conceptwave.system.Finder</extends>
  <input>doc_granite.resourceNameSearchDoc</input>
  <label>Get WO Name By Resource Name </label>
  <maxRowsLimit>100</maxRowsLimit>
  <metaVersion>25</metaVersion>
  <output>doc_granite.woNameDocument</output>
  <type>SQL</type>
  <volatility>10</volatility>
  <methodList>
    <method name="cwOnFinderSQLSel" type="action">
      <system>true</system>
      <script><![CDATA[
        select wo_name
          from work_order_inst woi, resource_inst ri
         where woi.element_inst_id = ri.resource_inst_id
           and woi.element_type = 'F'
        {[0]  and ri.name = ? }
           and ri.status in ('ACTIVE', 'ORDERED')
        order by woi.start_after
      ]]></script>
    </method>
  </methodList>
</findSql>