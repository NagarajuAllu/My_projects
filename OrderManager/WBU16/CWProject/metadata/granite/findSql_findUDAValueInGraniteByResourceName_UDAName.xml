<?xml version="1.0" encoding="UTF-8" ?>
<findSql name="granite.findUDAValueInGraniteByResourceName_UDAName">
  <dbSchema>GRANITE</dbSchema>
  <extends>find_com.conceptwave.system.Finder</extends>
  <input>doc_granite.udaSearchDoc</input>
  <label>Find UDAValue In Granite By ResourceName &amp; UDAName</label>
  <metaVersion>25</metaVersion>
  <output>doc_granite.RESOURCE_ATTR_SETTINGS</output>
  <type>SQL</type>
  <volatility>1</volatility>
  <methodList>
    <method name="cwOnFinderSQLSel" type="action">
      <system>true</system>
      <script><![CDATA[
        select {+*+}
          from resource_attr_settings ras
         where 1=1
           and ras.resource_inst_id = (select resource_inst_id
                                         from resource_inst
                                        where 1=1
                                       {[3] and name = ?})
           and ras.val_attr_inst_id = (select van.val_attr_inst_id
                                        from val_attr_name van
                                       where 1=1
                                     {[1] and van.attr_name = ?}
                                     {[2] and van.group_name = ?})
      ]]></script>
    </method>
  </methodList>
</findSql>