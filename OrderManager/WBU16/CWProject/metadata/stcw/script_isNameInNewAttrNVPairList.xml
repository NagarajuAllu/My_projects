<?xml version="1.0" encoding="UTF-8" ?>
<script name="stcw.isNameInNewAttrNVPairList">
  <label>Is Name In NewAttribute NV Pair List</label>
  <metaVersion>4</metaVersion>
  <parameterList>
    <parameter name="inputName" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
    <parameter name="inputServiceType" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var inputDoc = new Document("stcconf.search_NVPairName");
    inputDoc.name = inputName;
    inputDoc.serviceType = inputServiceType;

    var isInList = false;

    var resultList = Finder.runFinder("stcconf.findNewAttrNVPair", "select", inputDoc);
    if(resultList != null && resultList.length > 0) {
        isInList = true;
    }

    if(!isInList && inputServiceType != "*") {
        inputDoc.serviceType = "*";
        resultList = Finder.runFinder("stcconf.findNewAttrNVPair", "select", inputDoc);
        if(resultList != null && resultList.length > 0) {
            isInList = true;
        }
    }

    return isInList;
  ]]></script>
</script>