<?xml version="1.0" encoding="UTF-8" ?>
<script name="stcw.checkThatAllLineItemsInOrderHaveOneOfTheseStatus">
  <label>Check That All LineItems In Order Have One Of These Status</label>
  <metaVersion>4</metaVersion>
  <parameterList>
    <parameter name="lineItemExpectedStatusArray" type="rifp">
      <type>nmeta_com.conceptwave.system.Object</type>
    </parameter>
    <parameter name="bundleOrder" type="rifp">
      <type>order_stcw.wholesaleBundleOrderSTC</type>
    </parameter>
    <parameter name="considerOnlyProvisionable" type="rifp">
      <type>dtype_com.conceptwave.system.Boolean</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    debugPrintln(stcc.getSysdateForLog() + " checkThatAllLineItemsInOrderHaveOneOfTheseStatus([" + lineItemExpectedStatusArray + "])");
    var sameStatus = true;
    for(var i=0; i<bundleOrder.parentLineItems.length && sameStatus; i++) {
        sameStatus = stcw.checkThatAllLineItemsInBundleHaveOneOfTheseStatus(lineItemExpectedStatusArray, bundleOrder.parentLineItems[i].parentLineItem, bundleOrder, considerOnlyProvisionable);
    }

    debugPrintln(stcc.getSysdateForLog() + " checkThatAllLineItemsInOrderHaveOneOfTheseStatus([" + lineItemExpectedStatusArray + "]): " + sameStatus);
    return sameStatus;
  ]]></script>
</script>