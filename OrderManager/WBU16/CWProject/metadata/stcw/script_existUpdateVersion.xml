<?xml version="1.0" encoding="UTF-8" ?>
<script name="stcw.existUpdateVersion">
  <label>Exist Update Version</label>
  <metaVersion>3</metaVersion>
  <parameterList>
    <parameter name="order" type="rifp">
      <type>order_com.conceptwave.system.Order</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    if (order == null) {
          Global.logDebug ("existUpdateVersion (): order is required");
          return (false);
    }

    var foundUpdate = false;
    for (var i=0; i<order.versions.count && !foundUpdate; i++) {
          var versionName = order.versions[i].header.versionName;
          foundUpdate = (versionName == "CANCEL" || versionName == "REVISE");
    }

    return foundUpdate;
  ]]></script>
</script>