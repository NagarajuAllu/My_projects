<?xml version="1.0" encoding="UTF-8" ?>
<script name="stcw.mapOrderItemToMobileInputData">
  <label>Map OrderItem To Mobile Input Data</label>
  <metaVersion>25</metaVersion>
  <parameterList>
    <parameter name="bundleOrder" type="rifp">
      <type>nmeta_com.conceptwave.system.Object</type>
    </parameter>
    <parameter name="orderItem" type="rifp">
      <type>doc_stcw.lineItemDocument</type>
    </parameter>
    <parameter name="processDocument" type="rifp">
      <type>doc_stcw.STCW_PROCESS_DOCUMENT_MOBILE</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var operationName = processDocument.operationName;

    var inputDS = null;
    if(operationName == "submitPnAOrder") {
        inputDS = stcw.mapOrderItemToInputDataForSubmitPnA(bundleOrder, orderItem);
    }
    else if(operationName == "updateSIMStatus") {
        if(bundleOrder.orderHeader.orderType == "O") {
            inputDS = stcw.mapOrderItemToInputDataForDeActivate_NSM(bundleOrder, orderItem);
        }
        else {
            inputDS = stcw.mapOrderItemToInputDataForActivate_NSM(bundleOrder, orderItem);
        }
    }
    else if(operationName == "validateInventory") {
        inputDS = stcw.mapOrderItemToInputDataForValidate_NSM(bundleOrder, orderItem);
    }
    else if(operationName == "changeSIMDetails") {
        inputDS = stcw.mapOrderItemToInputDataForChangeSIM_NSM(bundleOrder, orderItem);
    }

    return inputDS;
  ]]></script>
</script>