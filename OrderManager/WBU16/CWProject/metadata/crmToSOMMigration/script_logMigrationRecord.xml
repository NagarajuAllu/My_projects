<?xml version="1.0" encoding="UTF-8" ?>
<script name="crmToSOMMigration.logMigrationRecord">
  <label>Log Migration Record</label>
  <metaVersion>25</metaVersion>
  <parameterList>
    <parameter name="isOrder" type="rifp">
      <type>dtype_com.conceptwave.system.Boolean</type>
    </parameter>
    <parameter name="orbHeaderId" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
    <parameter name="orderNumber" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
    <parameter name="orderType" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
    <parameter name="result" type="rifp">
      <type>dtype_stcw.integer1</type>
    </parameter>
    <parameter name="errorMsg" type="rifp">
      <type>dtype_stcw.string4000</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var migrationResult = new Document("crmToSOMMigration.migrationResult");
    migrationResult.quoteOrder = (isOrder ? "O" : "Q");
    migrationResult.orbHeaderId = orbHeaderId;
    migrationResult.orderNumber = orderNumber;
    migrationResult.orderType = orderType;
    migrationResult.resultMigration = result;
    migrationResult.errorMigration = errorMsg;
    migrationResult.whenRunMigration = new Date();
    migrationResult.save();
  ]]></script>
</script>