<?xml version="1.0" encoding="UTF-8" ?>
<script filenameHash="24773446ee41a00c9c7ae0f77753df28" versionHash="a87ff679a2f3e71d9181a67b7542122c" name="processSTC.getNewChildOrderNumber">
  <label>Get New ChildOrderNumber</label>
  <metaVersion>4</metaVersion>
  <parameterList>
    <parameter name="workOrderType" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var result = null;

    // Invoke the function to retrieve a unique Order #:
    // - the first input is the 'Order Type'
    // - the second input is the 'User Initials' (hardcoded to 'ST')
    var sql = "SELECT STC_OE_GEN_ORDER_NO('" + workOrderType + "', 'ST') FROM DUAL";
    var output = Global.runSQLQuery("XNG PRODUCTION [USER:STC_TARGET2]", "common:genericOutput_String", 1, null, sql);

    if (output != null && output.size == 1) {
        result = output[0].result;
    }

    return result;
  ]]></script>
</script>