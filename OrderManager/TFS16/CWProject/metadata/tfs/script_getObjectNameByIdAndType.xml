<?xml version="1.0" encoding="UTF-8" ?>
<script name="tfs.getObjectNameByIdAndType">
  <label>Get Object Name By Id and Type</label>
  <metaVersion>25</metaVersion>
  <parameterList>
    <parameter name="objectId" type="rifp">
      <type>dtype_cwf.docId</type>
    </parameter>
    <parameter name="objectType" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var objectName = null;

    if(objectType != null && objectId != null) {
        if(objectType == "PRNR") {
            var objFinder = new Finder("tfs.findPRNR");
            objFinder.searchDocument.prnrId = objectId;
            var resultList = objFinder.search();

            if(resultList != null && resultList.length > 0) {
                objectName = resultList[0].prnrName;
            }
        }
        else if(objectType == "PRN") {
            var objFinder = new Finder("tfs.findPRN");
            objFinder.searchDocument.prnId = objectId;
            var resultList = objFinder.search();

            if(resultList != null && resultList.length > 0) {
                objectName = resultList[0].prnName;
            }
        }
        else if(objectType == "TFR") {
            var objFinder = new Finder("tfs.findTFR");
            objFinder.searchDocument.tfrId = objectId;
            var resultList = objFinder.search();

            if(resultList != null && resultList.length > 0) {
                objectName = resultList[0].tfrNumber;
            }
        }
        else if(objectType == "TASK") {
            var objFinder = new Finder("tfs.findTaskById");
            objFinder.searchDocument.tfrTaskId = objectId;
            var resultList = objFinder.search();

            if(resultList != null && resultList.length > 0) {
                objectName = resultList[0].taskName;
            }
        }
        else if(objectType == "BI") {
            objectName = objectId;
        }
    }

    return objectName;
  ]]></script>
</script>