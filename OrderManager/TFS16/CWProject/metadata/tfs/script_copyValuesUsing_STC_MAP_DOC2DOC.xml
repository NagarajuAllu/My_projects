<?xml version="1.0" encoding="UTF-8" ?>
<script name="tfs.copyValuesUsing_STC_MAP_DOC2DOC">
  <label>Copy Values Using STC_MAP_DOC2DOC Configuration</label>
  <metaVersion>4</metaVersion>
  <parameterList>
    <parameter name="destinationObject" type="rifp">
      <type>doc_com.conceptwave.system.Document</type>
    </parameter>
    <parameter name="destinationObjectType" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
    <parameter name="sourceObject" type="rifp">
      <type>doc_com.conceptwave.system.Document</type>
    </parameter>
    <parameter name="sourceObjectType" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var finder = new Finder("tfs.findSTC_MAP_DOC2DOC");
    finder.searchDocument.destinationObject = destinationObjectType;
    finder.searchDocument.sourceObject = sourceObjectType;
    var resultList = finder.search();

    if(resultList != null) {
        for (var i=0; i<resultList.length; i++) {
            destinationObject[resultList[i].destinationField] = sourceObject[resultList[i].sourceField];
        }
    }

    return destinationObject;
  ]]></script>
</script>