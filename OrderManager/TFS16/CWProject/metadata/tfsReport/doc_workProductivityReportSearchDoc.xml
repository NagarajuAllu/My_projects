<?xml version="1.0" encoding="UTF-8" ?>
<document name="tfsReport.workProductivityReportSearchDoc">
  <extends>doc_com.conceptwave.system.Document</extends>
  <guid>{80d4cc6d-80db-453d-84ad-cef0b37e7a34}</guid>
  <label>Work Productivity Report Search Doc</label>
  <metaVersion>25</metaVersion>
  <skipSchemaGeneration>true</skipSchemaGeneration>
  <variableList>
    <variable name="departmentNameList" type="leaf">
      <valueType>dtype_com.conceptwave.system.String</valueType>
    </variable>
    <variable name="userIdList" type="leaf">
      <valueType>dtype_com.conceptwave.system.String</valueType>
    </variable>
    <variable name="assignmentDateFrom" type="leaf">
      <propertyElement type="eldatetime">
        <displayFormat>yyyy/MM/dd HH:mm:ss</displayFormat>
        <label>Assignment Date &gt;=</label>
      </propertyElement>
      <valueType>dtype_common.tfsDateTime</valueType>
    </variable>
    <variable name="assignmentDateTo" type="leaf">
      <propertyElement type="eldatetime">
        <displayFormat>yyyy/MM/dd HH:mm:ss</displayFormat>
        <label>Assignment Date &lt;=</label>
      </propertyElement>
      <valueType>dtype_common.tfsDateTime</valueType>
    </variable>
    <variable name="completionDateFrom" type="leaf">
      <propertyElement type="eldatetime">
        <displayFormat>yyyy/MM/dd HH:mm:ss</displayFormat>
        <label>Completion Date &gt;=</label>
      </propertyElement>
      <valueType>dtype_common.tfsDateTime</valueType>
    </variable>
    <variable name="completionDateTo" type="leaf">
      <propertyElement type="eldatetime">
        <displayFormat>yyyy/MM/dd HH:mm:ss</displayFormat>
        <label>Completion Date &lt;=</label>
      </propertyElement>
      <valueType>dtype_common.tfsDateTime</valueType>
    </variable>
  </variableList>
  <UserInterface name="UserInterface" type="ui">
    <extends>doc_com.conceptwave.system.Document/ui_UserInterface</extends>
    <variableList>
      <variable name="usersInDepartmentsFinderUI" type="leaf">
        <valueType>findSql_up_priv.getAllUsersInDepartmentsFinder/ui_UserInterface</valueType>
      </variable>
      <variable name="departmentFinderUI" type="leaf">
        <valueType>findSql_up_priv.getAllDepartmentsFinder</valueType>
      </variable>
      <variable name="model" type="uivar">
        <label>model</label>
        <valueType>doc_tfsReport.workProductivityReportSearchDoc</valueType>
      </variable>
    </variableList>
    <vformList>
      <vform name="Forms" type="frmui">
        <extends>doc_com.conceptwave.system.Document/ui_UserInterface/frmui_Forms</extends>
        <overlayList>
          <overlay name="Default" type="exov">
            <base>ui_com.conceptwave.system.DocumentUserInterface/frmui_Forms/exov_Default</base>
            <extends>ui_com.conceptwave.system.DocumentUserInterface/frmui_Forms/exov_Default</extends>
            <label>Default</label>
            <overrideList>
              <override name="defaultVerticalLayout" type="elvlt">
                <width>1200px</width>
                <elementList>
                  <element name="inputDataLabel" type="elhdr">
                    <cellAlignment>left,center</cellAlignment>
                    <height>40px</height>
                    <label>Work Productivity Report Input Data</label>
                    <width>1200px</width>
                  </element>
                  <element name="HorizontalLayout" type="elhlt">
                    <elementList>
                      <element name="departmentsFormFrame" type="elovf">
                        <formReference type="varPath">
                          <variablePathList>
                            <variablePath>doc_tfsReport.workProductivityReportSearchDoc/ui_UserInterface/leaf_departmentFinderUI</variablePath>
                            <variablePath>findSql_up_priv.getAllDepartmentsFinder/ui_UserInterface/frmui_Forms/vform_groupList</variablePath>
                          </variablePathList>
                        </formReference>
                        <height>400px</height>
                        <style>simpleBorder</style>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_tfsReport.workProductivityReportSearchDoc/ui_UserInterface/leaf_departmentFinderUI</variablePath>
                          </variablePathList>
                        </variable>
                        <width>380px</width>
                      </element>
                      <element name="LayoutSpacer" type="ellsp">
                        <width>20px</width>
                      </element>
                      <element name="usersFormFrame" type="elovf">
                        <formReference type="varPath">
                          <variablePathList>
                            <variablePath>doc_tfsReport.workProductivityReportSearchDoc/ui_UserInterface/leaf_usersInDepartmentsFinderUI</variablePath>
                            <variablePath>findSql_up_priv.getAllUsersInDepartmentsFinder/ui_UserInterface/frmui_Forms/vform_userList</variablePath>
                          </variablePathList>
                        </formReference>
                        <height>400px</height>
                        <snapOnMouseOver>false</snapOnMouseOver>
                        <style>simpleBorder</style>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_tfsReport.workProductivityReportSearchDoc/ui_UserInterface/leaf_usersInDepartmentsFinderUI</variablePath>
                          </variablePathList>
                        </variable>
                        <width>380px</width>
                      </element>
                      <element name="LayoutSpacer1" type="ellsp">
                        <width>20px</width>
                      </element>
                      <element name="workProductivityReportSearchDocGrid" type="elgrd">
                        <colWidths>150px,150px,150px,150px</colWidths>
                        <labelOrientation>left</labelOrientation>
                        <numOfCols>4</numOfCols>
                        <useDefaultHeight>true</useDefaultHeight>
                        <width>650px</width>
                        <elementList>
                          <element name="assignmentDateFrom" type="eldatetime">
                            <label>Assignment Date &gt;=</label>
                            <labelOrientation>left</labelOrientation>
                            <variable type="varPath">
                              <variablePathList>
                                <variablePath>doc_tfsReport.workProductivityReportSearchDoc/ui_UserInterface/uivar_model</variablePath>
                                <variablePath>doc_tfsReport.workProductivityReportSearchDoc/leaf_assignmentDateFrom</variablePath>
                              </variablePathList>
                            </variable>
                          </element>
                          <element name="assignmentDateTo" type="eldatetime">
                            <label>Assignment Date &lt;=</label>
                            <variable type="varPath">
                              <variablePathList>
                                <variablePath>doc_tfsReport.workProductivityReportSearchDoc/ui_UserInterface/uivar_model</variablePath>
                                <variablePath>doc_tfsReport.workProductivityReportSearchDoc/leaf_assignmentDateTo</variablePath>
                              </variablePathList>
                            </variable>
                          </element>
                          <element name="RowSpacer" type="elrsp">
                            <height>15px</height>
                            <rowSpan>15px</rowSpan>
                          </element>
                          <element name="completionDateFrom" type="eldatetime">
                            <label>Completion Date &gt;=</label>
                            <variable type="varPath">
                              <variablePathList>
                                <variablePath>doc_tfsReport.workProductivityReportSearchDoc/ui_UserInterface/uivar_model</variablePath>
                                <variablePath>doc_tfsReport.workProductivityReportSearchDoc/leaf_completionDateFrom</variablePath>
                              </variablePathList>
                            </variable>
                          </element>
                          <element name="completionDateTo" type="eldatetime">
                            <label>Completion Date &lt;=</label>
                            <variable type="varPath">
                              <variablePathList>
                                <variablePath>doc_tfsReport.workProductivityReportSearchDoc/ui_UserInterface/uivar_model</variablePath>
                                <variablePath>doc_tfsReport.workProductivityReportSearchDoc/leaf_completionDateTo</variablePath>
                              </variablePathList>
                            </variable>
                          </element>
                        </elementList>
                      </element>
                    </elementList>
                  </element>
                  <element name="LayoutSpacer2" type="ellsp">
                    <height>20px</height>
                  </element>
                </elementList>
              </override>
            </overrideList>
          </overlay>
        </overlayList>
      </vform>
    </vformList>
    <methodList>
      <method name="onInit" type="action">
        <valueType>nmeta_com.conceptwave.system.Object</valueType>
        <script><![CDATA[
          var onInit = this.cw$super_onInit();

          this.departmentFinderUI = new up_priv.getAllDepartmentsFinder.UserInterface(null, this);
          this.departmentFinderUI.model.search();

          this.usersInDepartmentsFinderUI = new up_priv.getAllUsersInDepartmentsFinder.UserInterface(null, this);

          return onInit;
        ]]></script>
      </method>
      <method name="departmentSelectionChanged" type="uimthd">
        <script><![CDATA[
          var departmentsSelected = this.departmentFinderUI.model.selected;

          if(departmentsSelected != null) {
              var usersSelected = this.usersInDepartmentsFinderUI.model.selected;
              this.model.departmentNameList = concatenateNames_(departmentsSelected);
              this.usersInDepartmentsFinderUI.search.model.groupName = concatenateNames_(departmentsSelected);
              this.usersInDepartmentsFinderUI.model.search();
              this.usersInDepartmentsFinderUI.model.selected = usersSelected;
          }
          else {
              this.model.departmentNameList = null;
              this.usersInDepartmentsFinderUI.model.selected = null;
              this.usersInDepartmentsFinderUI.model.setList(null);
          }




          function concatenateNames_(departmentsSelected) {
              var concatenated = "";
              if(departmentsSelected != null) {
                  for(var i=0; i<departmentsSelected.length; i++) {
                      if(concatenated.length > 0) {
                          concatenated += ",";
                      }
                      concatenated = concatenated + "'" + departmentsSelected[i].groupName + "'";
                  }
              }

              return concatenated;
          }
        ]]></script>
      </method>
      <method name="userSelectionChanged" type="uimthd">
        <script><![CDATA[
          var usersSelected = this.usersInDepartmentsFinderUI.model.selected;

          if(usersSelected != null) {
              this.model.userIdList = concatenateNames_(usersSelected);
          }
          else {
              this.model.userIdList = null;
          }




          function concatenateNames_(userIdSelected) {
              var concatenated = "";
              if(userIdSelected != null) {
                  for(var i=0; i<userIdSelected.length; i++) {
                      if(concatenated.length > 0) {
                          concatenated += ",";
                      }
                      concatenated = concatenated + "'" + userIdSelected[i].userId + "'";
                  }
              }

              return concatenated;
          }
        ]]></script>
      </method>
    </methodList>
  </UserInterface>
</document>