<?xml version="1.0" encoding="UTF-8" ?>
<script name="workflow.getNewRevisionName">
  <label>Get New Revision Name</label>
  <metaVersion>25</metaVersion>
  <parameterList>
    <parameter name="strId" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
    <parameter name="revNumber" type="rifp">
      <type>dtype_com.conceptwave.system.Integer</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var index = strId.search("/");
    var changeRevNumber = 2;
    if(index > 0){
        if(revNumber != null && revNumber > 1){
            changeRevNumber = revNumber;
        }
        var newStrId = strId.replace(/\/[0-9]+$/, "/" + changeRevNumber);
        return newStrId;
    }
    if(revNumber != null && revNumber > 0){
        return strId + "/" + revNumber;
    }
    return strId + "/2";
  ]]></script>
</script>