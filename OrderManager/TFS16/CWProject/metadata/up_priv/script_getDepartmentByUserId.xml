<?xml version="1.0" encoding="UTF-8" ?>
<script name="up_priv.getDepartmentByUserId">
  <label>Get Department By UserId</label>
  <metaVersion>4</metaVersion>
  <parameterList>
    <parameter name="userId" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var departmentName = null;

    if(userId != null) {
        var docSearch = new Document("cwf_up.UserIDSearch");
        docSearch.userId = userId;

        var resultList = Finder.runFinder("up_priv.getDepartmentByUserIdFinder", "select", docSearch);
        if(resultList != null && resultList.length > 0) {
            departmentName = resultList[0].groupName;
        }
    }
    return departmentName;
  ]]></script>
</script>