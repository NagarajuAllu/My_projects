<?xml version="1.0" encoding="UTF-8" ?>
<document name="ds_ws.details_serviceParameters">
  <dbSchema>ORDER</dbSchema>
  <extends>doc_com.conceptwave.system.Document</extends>
  <generatedKey>true</generatedKey>
  <guid>{02039df7-efa9-bf39-8077-eb315a8b0776}</guid>
  <highlight>12</highlight>
  <label>Details: Service Parameters</label>
  <metaVersion>21</metaVersion>
  <variableList>
    <variable name="creationDate" type="leaf">
      <column>CREATIONDATE</column>
      <label>Creation Date</label>
      <propertyElement type="eldate">
        <label>Creation Date</label>
        <showPickerIcon>false</showPickerIcon>
      </propertyElement>
      <table>STC_SERVICE_PARAMETERS</table>
      <valueType>dtype_cwf.date</valueType>
    </variable>
    <variable name="serviceNumber" type="leaf">
      <column>SERVICENUMBER</column>
      <label>Service #</label>
      <propertyElement type="elfld">
        <label>Service #</label>
      </propertyElement>
      <table>STC_SERVICE_PARAMETERS</table>
      <valueType>dtype_ds_ws.string50</valueType>
    </variable>
    <variable name="oldServiceNumber" type="leaf">
      <column>OLDSERVICENUMBER</column>
      <label>Old Service #</label>
      <propertyElement type="elfld">
        <label>Old Service #</label>
      </propertyElement>
      <table>STC_SERVICE_PARAMETERS</table>
      <valueType>dtype_ds_ws.string50</valueType>
    </variable>
    <variable name="serviceDate" type="leaf">
      <column>SERVICEDATE</column>
      <label>Service Date</label>
      <propertyElement type="eldate">
        <label>Service Date</label>
        <showPickerIcon>false</showPickerIcon>
      </propertyElement>
      <table>STC_SERVICE_PARAMETERS</table>
      <valueType>dtype_cwf.date</valueType>
    </variable>
    <variable name="serviceDescription" type="leaf">
      <column>SERVICEDESCRIPTION</column>
      <label>Service Description</label>
      <propertyElement type="elfld">
        <label>Service Description</label>
      </propertyElement>
      <table>STC_SERVICE_PARAMETERS</table>
      <valueType>dtype_ds_ws.string1000</valueType>
    </variable>
    <variable name="serviceType" type="leaf">
      <column>SERVICETYPE</column>
      <label>Service Type</label>
      <propertyElement type="elfld">
        <label>Service Type</label>
      </propertyElement>
      <table>STC_SERVICE_PARAMETERS</table>
      <valueType>dtype_ds_ws.serviceType</valueType>
    </variable>
    <variable name="cwDocStamp" type="leaf">
      <column>CWDOCSTAMP</column>
      <label>System doc stamp</label>
      <propertyElement type="elfld">
        <label>System doc stamp</label>
      </propertyElement>
      <table>STC_SERVICE_PARAMETERS</table>
      <valueType>dtype_cwf.cwDocStamp</valueType>
    </variable>
    <variable name="cwDocId" type="leaf">
      <column>CWDOCID</column>
      <key>1</key>
      <label>System document ID</label>
      <propertyElement type="elfld">
        <label>System document ID</label>
      </propertyElement>
      <table>STC_SERVICE_PARAMETERS</table>
      <valueType>dtype_cwf.cwDocId</valueType>
    </variable>
    <variable name="lastUpdatedDate" type="leaf">
      <column>LASTUPDATEDDATE</column>
      <label>System last updated timestamp</label>
      <propertyElement type="eldatetime">
        <label>System last updated timestamp</label>
      </propertyElement>
      <table>STC_SERVICE_PARAMETERS</table>
      <valueType>dtype_cwf.lastUpdatedDate</valueType>
    </variable>
    <variable name="cwOrderCreationDate" type="leaf">
      <column>CWORDERCREATIONDATE</column>
      <label>System order creation timestamp</label>
      <propertyElement type="eldatetime">
        <label>System order creation timestamp</label>
      </propertyElement>
      <table>STC_SERVICE_PARAMETERS</table>
      <valueType>dtype_cwf.cwOrderCreationDate</valueType>
    </variable>
    <variable name="cwOrderId" type="leaf">
      <column>CWORDERID</column>
      <label>System order ID</label>
      <propertyElement type="elfld">
        <label>System order ID</label>
      </propertyElement>
      <table>STC_SERVICE_PARAMETERS</table>
      <valueType>dtype_cwf.cwOrderId</valueType>
    </variable>
    <variable name="cwParentId" type="leaf">
      <column>CWPARENTID</column>
      <label>System parent ID</label>
      <propertyElement type="elfld">
        <label>System parent ID</label>
      </propertyElement>
      <table>STC_SERVICE_PARAMETERS</table>
      <valueType>dtype_cwf.cwParentId</valueType>
    </variable>
    <variable name="updatedBy" type="leaf">
      <column>UPDATEDBY</column>
      <label>System updated by</label>
      <propertyElement type="elfld">
        <label>System updated by</label>
      </propertyElement>
      <table>STC_SERVICE_PARAMETERS</table>
      <valueType>dtype_cwf.updatedBy</valueType>
    </variable>
    <variable name="serviceStatus" type="leaf">
      <column>SERVICESTATUS</column>
      <label>Service Status</label>
      <propertyElement type="elfld">
        <label>Service Status</label>
      </propertyElement>
      <table>STC_SERVICE_PARAMETERS</table>
      <valueType>dtype_ds_ws.string50</valueType>
    </variable>
    <variable name="attributeCSC" type="leaf">
      <dontMap>true</dontMap>
      <label>Attribute CSC</label>
      <propertyElement type="elfld">
        <label>Attribute CSC</label>
      </propertyElement>
      <valueType>dtype_com.conceptwave.system.String</valueType>
    </variable>
    <variable name="attributeRatePlan" type="leaf">
      <dontMap>true</dontMap>
      <label>Attribute Rate Plan</label>
      <propertyElement type="elfld">
        <label>Attribute Rate Plan</label>
      </propertyElement>
      <valueType>dtype_com.conceptwave.system.String</valueType>
    </variable>
    <variable name="attributeSuppCodes" type="leaf">
      <dontMap>true</dontMap>
      <label>Attribute SUPP_CODES</label>
      <propertyElement type="elfld">
        <label>Attribute SUPP_CODES</label>
      </propertyElement>
      <valueType>dtype_com.conceptwave.system.String</valueType>
    </variable>
    <variable name="attributeDownStreamBW" type="leaf">
      <dontMap>true</dontMap>
      <label>Attribute DownstreamBandwidth</label>
      <propertyElement type="elfld">
        <label>Attribute DownstreamBandwidth</label>
      </propertyElement>
      <valueType>dtype_com.conceptwave.system.String</valueType>
    </variable>
    <variable name="attributeUpStreamBW" type="leaf">
      <dontMap>true</dontMap>
      <label>Attribute UpstreamBandwidth</label>
      <propertyElement type="elfld">
        <label>Attribute UpstreamBandwidth</label>
      </propertyElement>
      <valueType>dtype_com.conceptwave.system.String</valueType>
    </variable>
  </variableList>
  <methodList>
    <method name="cwLeafTriggerAction$serviceType" type="laction">
      <path>doc_ds_ws.details_serviceParameters/leaf_serviceType</path>
      <type>trigger</type>
      <script><![CDATA[
        var order = document.order;
        // Capitalize the field!
        document.serviceType = document.serviceType != null ? document.serviceType.toUpperCase().trim() : null;

        if (order != null && order.orderMessage.actionOnOrder == "Create"){

              if (document.serviceType == "FTTH_VOIP") {

                    for (var k = 0; k < order.serviceParametersList.count; k++) {
                          if (order.serviceParametersList[k].serviceParameters.serviceType == "FTTH_VOIP" &&
                                order.serviceParametersList[k].serviceParameters.id != document.id) {
                                document.serviceType = null;
                                Global.throwException("Action not performed: the order already contains a 'VOIP' service!");
                          }
                    }
              }

              if (document.serviceType == "FTTH_HSI") {

                    for (var k = 0; k < order.serviceParametersList.count; k++) {
                          if (order.serviceParametersList[k].serviceParameters.serviceType == "FTTH_HSI" &&
                                order.serviceParametersList[k].serviceParameters.id != document.id) {
                                document.serviceType = null;
                                Global.throwException("Action not performed: the order already contains a 'HSI' service!");
                          }
                    }
              }
        }
      ]]></script>
    </method>
    <method name="cwLeafTriggerAction$attributeCSC" type="laction">
      <path>doc_ds_ws.details_serviceParameters/leaf_attributeCSC</path>
      <type>trigger</type>
      <script><![CDATA[
        // Update the related "Name Value" item
        var order = document.order;

        if (order != null && order.orderMessage.actionOnOrder == "Create"){

              var positionSP = -1;
              for (var k = 0; k < order.serviceParametersList.count; k++) {
                    if (order.serviceParametersList[k].serviceParameters.id == document.id) {
                          positionSP = k;
                          break;
                    }
              }

              if (order.serviceParametersList[positionSP].nameValueList == null){
                    order.serviceParametersList[positionSP].addItem("nameValueList");
              }
              for (var j = 0; j < order.serviceParametersList[positionSP].nameValueList.count; j++) {
                    if (order.serviceParametersList[positionSP].nameValueList[j].nameValue.name == "CSC") {
                          order.serviceParametersList[positionSP].nameValueList[j].nameValue.value = document.attributeCSC;
                          return;
                    }
              }
              var attribute = order.serviceParametersList[positionSP].nameValueList.newInstance();
              attribute.nameValue.name = "CSC";
              attribute.nameValue.value = document.attributeCSC;
        }
      ]]></script>
    </method>
    <method name="cwLeafTriggerAction$attributeDownStreamBW" type="laction">
      <path>doc_ds_ws.details_serviceParameters/leaf_attributeDownStreamBW</path>
      <type>trigger</type>
      <script><![CDATA[
        // Update the related "Name Value" item
        var order = document.order;

        if (order != null && order.orderMessage.actionOnOrder == "Create"){

              var positionSP = -1;
              for (var k = 0; k < order.serviceParametersList.count; k++) {
                    if (order.serviceParametersList[k].serviceParameters.id == document.id) {
                          positionSP = k;
                          break;
                    }
              }

              if (order.serviceParametersList[positionSP].nameValueList == null){
                    order.serviceParametersList[positionSP].addItem("nameValueList");
              }
              for (var j = 0; j < order.serviceParametersList[positionSP].nameValueList.count; j++) {
                    if (order.serviceParametersList[positionSP].nameValueList[j].nameValue.name == "DownstreamBandwidth") {
                          order.serviceParametersList[positionSP].nameValueList[j].nameValue.value = document.attributeDownStreamBW;
                          return;
                    }
              }
              var attribute = order.serviceParametersList[positionSP].nameValueList.newInstance();
              attribute.nameValue.name = "DownstreamBandwidth";
              attribute.nameValue.value = document.attributeDownStreamBW;
        }
      ]]></script>
    </method>
    <method name="cwLeafTriggerAction$attributeRatePlan" type="laction">
      <path>doc_ds_ws.details_serviceParameters/leaf_attributeRatePlan</path>
      <type>trigger</type>
      <script><![CDATA[
        // Update the related "Name Value" item
        var order = document.order;

        if (order != null && order.orderMessage.actionOnOrder == "Create"){

              var positionSP = -1;
              for (var k = 0; k < order.serviceParametersList.count; k++) {
                    if (order.serviceParametersList[k].serviceParameters.id == document.id) {
                          positionSP = k;
                          break;
                    }
              }

              if (order.serviceParametersList[positionSP].nameValueList == null){
                    order.serviceParametersList[positionSP].addItem("nameValueList");
              }
              for (var j = 0; j < order.serviceParametersList[positionSP].nameValueList.count; j++) {
                    if (order.serviceParametersList[positionSP].nameValueList[j].nameValue.name == "Rate Plan") {
                          order.serviceParametersList[positionSP].nameValueList[j].nameValue.value = document.attributeRatePlan;
                          return;
                    }
              }
              var attribute = order.serviceParametersList[positionSP].nameValueList.newInstance();
              attribute.nameValue.name = "Rate Plan";
              attribute.nameValue.value = document.attributeRatePlan;
        }
      ]]></script>
    </method>
    <method name="cwLeafTriggerAction$attributeSuppCodes" type="laction">
      <path>doc_ds_ws.details_serviceParameters/leaf_attributeSuppCodes</path>
      <type>trigger</type>
      <script><![CDATA[
        // Update the related "Name Value" item
        var order = document.order;

        if (order != null && order.orderMessage.actionOnOrder == "Create"){

              var positionSP = -1;
              for (var k = 0; k < order.serviceParametersList.count; k++) {
                    if (order.serviceParametersList[k].serviceParameters.id == document.id) {
                          positionSP = k;
                          break;
                    }
              }

              if (order.serviceParametersList[positionSP].nameValueList == null){
                    order.serviceParametersList[positionSP].addItem("nameValueList");
              }
              for (var j = 0; j < order.serviceParametersList[positionSP].nameValueList.count; j++) {
                    if (order.serviceParametersList[positionSP].nameValueList[j].nameValue.name == "SUPP_CODES") {
                          order.serviceParametersList[positionSP].nameValueList[j].nameValue.value = document.attributeSuppCodes;
                          return;
                    }
              }
              var attribute = order.serviceParametersList[positionSP].nameValueList.newInstance();
              attribute.nameValue.name = "SUPP_CODES";
              attribute.nameValue.value = document.attributeSuppCodes;
        }
      ]]></script>
    </method>
    <method name="cwLeafTriggerAction$attributeUpStreamBW" type="laction">
      <path>doc_ds_ws.details_serviceParameters/leaf_attributeUpStreamBW</path>
      <type>trigger</type>
      <script><![CDATA[
        // Update the related "Name Value" item
        var order = document.order;

        if (order != null && order.orderMessage.actionOnOrder == "Create"){

              var positionSP = -1;
              for (var k = 0; k < order.serviceParametersList.count; k++) {
                    if (order.serviceParametersList[k].serviceParameters.id == document.id) {
                          positionSP = k;
                          break;
                    }
              }

              if (order.serviceParametersList[positionSP].nameValueList == null){
                    order.serviceParametersList[positionSP].addItem("nameValueList");
              }
              for (var j = 0; j < order.serviceParametersList[positionSP].nameValueList.count; j++) {
                    if (order.serviceParametersList[positionSP].nameValueList[j].nameValue.name == "UpstreamBandwidth") {
                          order.serviceParametersList[positionSP].nameValueList[j].nameValue.value = document.attributeUpStreamBW;
                          return;
                    }
              }
              var attribute = order.serviceParametersList[positionSP].nameValueList.newInstance();
              attribute.nameValue.name = "UpstreamBandwidth";
              attribute.nameValue.value = document.attributeUpStreamBW;
        }
      ]]></script>
    </method>
    <method name="cwOnDocVisualKey" type="action">
      <system>true</system>
      <script><![CDATA[
        var name = null;
        name = (document.serviceNumber != null ? document.serviceNumber : "Not Defined") +
                 (document.serviceType != null ? " [" + document.serviceType + "]" : " [Not Defined]");
        return name;
      ]]></script>
    </method>
    <method name="permView_By_Action_On_Order____Create__and___TypeView" type="permMethod">
      <privilegesType>NEVER</privilegesType>
      <script><![CDATA[
        // SCRIPT MIGRATION: if null, return false
        function functionToReturnFalseWhenNull(scriptToReturnFalseWhenNullThis) {

              // Modified on 09.12.2008:
              // - only if Action On Order requested is 'Create';
              return (scriptToReturnFalseWhenNullThis.order != null ? scriptToReturnFalseWhenNullThis.order.orderMessage.actionOnOrder == "Create" : false) &&
                       // - displayed if Service Type is not yet defined
                       ((scriptToReturnFalseWhenNullThis.serviceType == null) ||
                       // - displayed if Service Type is defined but not like either VOIP or HSI
                             (scriptToReturnFalseWhenNullThis.serviceType != null &&
                              scriptToReturnFalseWhenNullThis.serviceType != "FTTH_VOIP" &&
                              scriptToReturnFalseWhenNullThis.serviceType != "FTTH_HSI"));
        }

        var functionToReturnFalseWhenNullRes = functionToReturnFalseWhenNull(this);
        if(functionToReturnFalseWhenNullRes == null)
          return false;
        else
          return functionToReturnFalseWhenNullRes;
      ]]></script>
    </method>
    <method name="permView_By_Action_On_Order____Create__and_Type____HSI_View" type="permMethod">
      <privilegesType>NEVER</privilegesType>
      <script><![CDATA[
        // SCRIPT MIGRATION: if null, return false
        function functionToReturnFalseWhenNull(scriptToReturnFalseWhenNullThis) {

              // Modified on 09.12.2008:
              // - only if Action On Order requested is 'Create';
              return (scriptToReturnFalseWhenNullThis.order != null ? scriptToReturnFalseWhenNullThis.order.orderMessage.actionOnOrder == "Create" : false) &&
                       (scriptToReturnFalseWhenNullThis.serviceType == "FTTH_HSI");
        }

        var functionToReturnFalseWhenNullRes = functionToReturnFalseWhenNull(this);
        if(functionToReturnFalseWhenNullRes == null)
          return false;
        else
          return functionToReturnFalseWhenNullRes;
      ]]></script>
    </method>
    <method name="permView_By_Action_On_Order____Create__and_Type____VOIP_View" type="permMethod">
      <privilegesType>NEVER</privilegesType>
      <script><![CDATA[
        // SCRIPT MIGRATION: if null, return false
        function functionToReturnFalseWhenNull(scriptToReturnFalseWhenNullThis) {

              // Modified on 09.12.2008:
              // - only if Action On Order requested is 'Create';
              return (scriptToReturnFalseWhenNullThis.order != null ? scriptToReturnFalseWhenNullThis.order.orderMessage.actionOnOrder == "Create" : false) &&
                       (scriptToReturnFalseWhenNullThis.serviceType == "FTTH_VOIP");
        }

        var functionToReturnFalseWhenNullRes = functionToReturnFalseWhenNull(this);
        if(functionToReturnFalseWhenNullRes == null)
          return false;
        else
          return functionToReturnFalseWhenNullRes;
      ]]></script>
    </method>
    <method name="permView_By_Action_On_Order____Update_View" type="permMethod">
      <privilegesType>NEVER</privilegesType>
      <script><![CDATA[
        // SCRIPT MIGRATION: if null, return false
        function functionToReturnFalseWhenNull(scriptToReturnFalseWhenNullThis) {

              // Modified on 09.12.2008:
              // - only if Action On Order requested is 'Update';
              return (scriptToReturnFalseWhenNullThis.order != null ? scriptToReturnFalseWhenNullThis.order.orderMessage.actionOnOrder == "Update" : false);
        }

        var functionToReturnFalseWhenNullRes = functionToReturnFalseWhenNull(this);
        if(functionToReturnFalseWhenNullRes == null)
          return false;
        else
          return functionToReturnFalseWhenNullRes;
      ]]></script>
    </method>
    <method name="permView_By_Default__when_Action_On_Order_is_null_View" type="permMethod">
      <privilegesType>NEVER</privilegesType>
      <script><![CDATA[
        // SCRIPT MIGRATION: if null, return false
        function functionToReturnFalseWhenNull(scriptToReturnFalseWhenNullThis) {

              // Modified on 09.12.2008:
              // - only if Action On Order requested is null;
              return (scriptToReturnFalseWhenNullThis.order != null ? scriptToReturnFalseWhenNullThis.order.orderMessage.actionOnOrder == null : false);
        }

        var functionToReturnFalseWhenNullRes = functionToReturnFalseWhenNull(this);
        if(functionToReturnFalseWhenNullRes == null)
          return false;
        else
          return functionToReturnFalseWhenNullRes;
      ]]></script>
    </method>
  </methodList>
  <UserInterface name="UserInterface" type="ui">
    <extends>ui_com.conceptwave.system.DocumentWithTabsUserInterface</extends>
    <variableList>
      <variable name="model" type="uivar">
        <label>model</label>
        <valueType>doc_ds_ws.details_serviceParameters</valueType>
      </variable>
    </variableList>
    <vformList>
      <vform name="Forms" type="frmui">
        <extends>ui_com.conceptwave.system.DocumentWithTabsUserInterface/frmui_Forms</extends>
        <overlayList>
          <overlay name="create_mainInformation_woType" type="vform">
            <label>create_mainInformation_woType</label>
            <root name="create_mainInformation_woTypeGrid_vCentering" type="elvltstck">
              <height>100%</height>
              <membersMargin>5</membersMargin>
              <visible type="varPath">
                <variablePathList>
                  <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                  <variablePath>doc_ds_ws.details_serviceParameters/permMethod_permView_By_Action_On_Order____Create__and___TypeView</variablePath>
                </variablePathList>
              </visible>
              <width>100%</width>
              <elementList>
                <element name="details_serviceParametersHeader" type="elhdr">
                  <label>Service Parameters: Main Information</label>
                  <showValidation>true</showValidation>
                  <style>CwFOT</style>
                </element>
                <element name="details_serviceParametersHeader1" type="elhdr">
                  <label>Service Information</label>
                </element>
                <element name="groupGrid" type="elgrd">
                  <colWidths>117,195,117,195,117,195</colWidths>
                  <labelOrientation>left</labelOrientation>
                  <numOfCols>6</numOfCols>
                  <style>fittedSimpleBorder</style>
                  <useDefaultHeight>true</useDefaultHeight>
                  <width>936px</width>
                  <wrapLabel>true</wrapLabel>
                  <elementList>
                    <element name="serviceNumber1" type="elfld">
                      <columnSpan>1</columnSpan>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceNumber</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Description1" type="elfld">
                      <columnSpan>1</columnSpan>
                      <label>Description</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceDescription</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Type1" type="elfld">
                      <columnSpan>1</columnSpan>
                      <label>Type</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceType</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="oldServiceNumber1" type="elfld">
                      <columnSpan>1</columnSpan>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_oldServiceNumber</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="serviceDate1" type="eldate">
                      <columnSpan>1</columnSpan>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceDate</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Status1" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <label>Status</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceStatus</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                  </elementList>
                </element>
              </elementList>
            </root>
          </overlay>
          <overlay name="create_mainInformation_wTypeVOIP" type="vform">
            <label>create_mainInformation_wTypeVOIP</label>
            <root name="create_mainInformation_wTypeVOIPGrid_vCentering" type="elvltstck">
              <height>100%</height>
              <membersMargin>5</membersMargin>
              <visible type="varPath">
                <variablePathList>
                  <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                  <variablePath>doc_ds_ws.details_serviceParameters/permMethod_permView_By_Action_On_Order____Create__and_Type____VOIP_View</variablePath>
                </variablePathList>
              </visible>
              <width>100%</width>
              <elementList>
                <element name="details_serviceParametersHeader" type="elhdr">
                  <label>Service Parameters: Main Information</label>
                  <showValidation>true</showValidation>
                  <style>CwFOT</style>
                </element>
                <element name="details_serviceParametersHeader2" type="elhdr">
                  <label>Service Information</label>
                </element>
                <element name="groupGrid" type="elgrd">
                  <colWidths>117,195,117,195,117,195</colWidths>
                  <labelOrientation>left</labelOrientation>
                  <numOfCols>6</numOfCols>
                  <style>fittedSimpleBorder</style>
                  <useDefaultHeight>true</useDefaultHeight>
                  <width>936px</width>
                  <wrapLabel>true</wrapLabel>
                  <elementList>
                    <element name="serviceNumber3" type="elfld">
                      <columnSpan>1</columnSpan>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceNumber</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Description3" type="elfld">
                      <columnSpan>1</columnSpan>
                      <label>Description</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceDescription</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Type3" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <label>Type</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceType</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="oldServiceNumber3" type="elfld">
                      <columnSpan>1</columnSpan>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_oldServiceNumber</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="serviceDate3" type="eldate">
                      <columnSpan>1</columnSpan>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceDate</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Status3" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <label>Status</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceStatus</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                  </elementList>
                </element>
                <element name="details_serviceParametersHeader3" type="elhdr">
                  <label>Attribute Details</label>
                </element>
                <element name="groupGrid1" type="elgrd">
                  <colWidths>117,195,117,195,117,195</colWidths>
                  <labelOrientation>left</labelOrientation>
                  <numOfCols>6</numOfCols>
                  <style>fittedSimpleBorder</style>
                  <useDefaultHeight>true</useDefaultHeight>
                  <width>936px</width>
                  <wrapLabel>true</wrapLabel>
                  <elementList>
                    <element name="CSC1" type="elfld">
                      <columnSpan>1</columnSpan>
                      <label>CSC</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_attributeCSC</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Rate_Plan1" type="elfld">
                      <columnSpan>1</columnSpan>
                      <label>Rate Plan</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_attributeRatePlan</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="SUPP_CODES1" type="elfld">
                      <columnSpan>1</columnSpan>
                      <label>SUPP_CODES</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_attributeSuppCodes</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                  </elementList>
                </element>
              </elementList>
            </root>
          </overlay>
          <overlay name="create_mainInformation_wTypeHSI" type="vform">
            <label>create_mainInformation_wTypeHSI</label>
            <root name="create_mainInformation_wTypeHSIGrid_vCentering" type="elvltstck">
              <height>100%</height>
              <membersMargin>5</membersMargin>
              <visible type="varPath">
                <variablePathList>
                  <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                  <variablePath>doc_ds_ws.details_serviceParameters/permMethod_permView_By_Action_On_Order____Create__and_Type____HSI_View</variablePath>
                </variablePathList>
              </visible>
              <width>100%</width>
              <elementList>
                <element name="details_serviceParametersHeader" type="elhdr">
                  <label>Service Parameters: Main Information</label>
                  <showValidation>true</showValidation>
                  <style>CwFOT</style>
                </element>
                <element name="details_serviceParametersHeader4" type="elhdr">
                  <label>Service Information</label>
                </element>
                <element name="groupGrid" type="elgrd">
                  <colWidths>117,195,117,195,117,195</colWidths>
                  <labelOrientation>left</labelOrientation>
                  <numOfCols>6</numOfCols>
                  <style>fittedSimpleBorder</style>
                  <useDefaultHeight>true</useDefaultHeight>
                  <width>936px</width>
                  <wrapLabel>true</wrapLabel>
                  <elementList>
                    <element name="serviceNumber4" type="elfld">
                      <columnSpan>1</columnSpan>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceNumber</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Description4" type="elfld">
                      <columnSpan>1</columnSpan>
                      <label>Description</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceDescription</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Type4" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <label>Type</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceType</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="oldServiceNumber4" type="elfld">
                      <columnSpan>1</columnSpan>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_oldServiceNumber</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="serviceDate4" type="eldate">
                      <columnSpan>1</columnSpan>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceDate</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Status4" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <label>Status</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceStatus</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                  </elementList>
                </element>
                <element name="details_serviceParametersHeader5" type="elhdr">
                  <label>Attribute Details</label>
                </element>
                <element name="groupGrid1" type="elgrd">
                  <colWidths>117,195,117,195,117,195</colWidths>
                  <labelOrientation>left</labelOrientation>
                  <numOfCols>6</numOfCols>
                  <style>fittedSimpleBorder</style>
                  <useDefaultHeight>true</useDefaultHeight>
                  <width>936px</width>
                  <wrapLabel>true</wrapLabel>
                  <elementList>
                    <element name="Downstream_BW1" type="elfld">
                      <columnSpan>1</columnSpan>
                      <label>Downstream BW</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_attributeDownStreamBW</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Upstream_BW1" type="elfld">
                      <columnSpan>1</columnSpan>
                      <label>Upstream BW</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_attributeUpStreamBW</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                  </elementList>
                </element>
              </elementList>
            </root>
          </overlay>
          <overlay name="update_mainInformation" type="vform">
            <label>update_mainInformation</label>
            <root name="update_mainInformationGrid_vCentering" type="elvltstck">
              <height>100%</height>
              <membersMargin>5</membersMargin>
              <visible type="varPath">
                <variablePathList>
                  <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                  <variablePath>doc_ds_ws.details_serviceParameters/permMethod_permView_By_Action_On_Order____Update_View</variablePath>
                </variablePathList>
              </visible>
              <width>100%</width>
              <elementList>
                <element name="details_serviceParametersHeader" type="elhdr">
                  <label>Service Parameters: Main Information</label>
                  <showValidation>true</showValidation>
                  <style>CwFOT</style>
                </element>
                <element name="details_serviceParametersHeader6" type="elhdr">
                  <label>Service Information</label>
                </element>
                <element name="groupGrid" type="elgrd">
                  <colWidths>117,195,117,195,117,195</colWidths>
                  <labelOrientation>left</labelOrientation>
                  <numOfCols>6</numOfCols>
                  <style>fittedSimpleBorder</style>
                  <useDefaultHeight>true</useDefaultHeight>
                  <width>936px</width>
                  <wrapLabel>true</wrapLabel>
                  <elementList>
                    <element name="serviceNumber5" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceNumber</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Description5" type="elfld">
                      <columnSpan>1</columnSpan>
                      <label>Description</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceDescription</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Type5" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <label>Type</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceType</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="oldServiceNumber5" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_oldServiceNumber</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="serviceDate5" type="eldate">
                      <columnSpan>1</columnSpan>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceDate</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Status5" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <label>Status</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceStatus</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                  </elementList>
                </element>
              </elementList>
            </root>
          </overlay>
          <overlay name="default_mainInformation" type="vform">
            <label>default_mainInformation</label>
            <root name="default_mainInformationGrid_vCentering" type="elvltstck">
              <height>100%</height>
              <membersMargin>5</membersMargin>
              <visible type="varPath">
                <variablePathList>
                  <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                  <variablePath>doc_ds_ws.details_serviceParameters/permMethod_permView_By_Default__when_Action_On_Order_is_null_View</variablePath>
                </variablePathList>
              </visible>
              <width>100%</width>
              <elementList>
                <element name="details_serviceParametersHeader" type="elhdr">
                  <label>Service Parameters: Main Information</label>
                  <showValidation>true</showValidation>
                  <style>CwFOT</style>
                </element>
                <element name="details_serviceParametersHeader7" type="elhdr">
                  <label>Service Information</label>
                </element>
                <element name="groupGrid" type="elgrd">
                  <colWidths>117,195,117,195,117,195</colWidths>
                  <labelOrientation>left</labelOrientation>
                  <numOfCols>6</numOfCols>
                  <style>fittedSimpleBorder</style>
                  <useDefaultHeight>true</useDefaultHeight>
                  <width>936px</width>
                  <wrapLabel>true</wrapLabel>
                  <elementList>
                    <element name="serviceNumber6" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceNumber</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Description6" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <label>Description</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceDescription</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Type6" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <label>Type</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceType</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="oldServiceNumber6" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_oldServiceNumber</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="serviceDate6" type="eldate">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceDate</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="Status6" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <label>Status</label>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_ds_ws.details_serviceParameters/leaf_serviceStatus</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                  </elementList>
                </element>
              </elementList>
            </root>
          </overlay>
          <overlay name="Default" type="exov">
            <base>ui_com.conceptwave.system.DocumentUserInterface/frmui_Forms/exov_Default</base>
            <extends>ui_com.conceptwave.system.DocumentUserInterface/frmui_Forms/exov_Default</extends>
            <label>Default</label>
            <overrideList>
              <override name="Forms" type="eltset">
                <dataSource type="varPath">
                  <variablePathList>
                    <variablePath>ui_com.conceptwave.system.DocumentWithTabsUserInterface/leaf_selectedTab</variablePath>
                  </variablePathList>
                </dataSource>
                <tabChangedMethod type="varPath">
                  <variablePathList>
                    <variablePath>ui_com.conceptwave.system.DocumentWithTabsUserInterface/uimthd_onTabChanged</variablePath>
                  </variablePathList>
                </tabChangedMethod>
                <elementList>
                  <element name="create_mainInformation_woTypeTab" type="eltab">
                    <formReference type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/frmui_Forms/vform_create_mainInformation_woType</variablePath>
                      </variablePathList>
                    </formReference>
                    <label>Service Parameters: Main Information</label>
                    <validationDisplay>Static Icons</validationDisplay>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                        <variablePath>doc_ds_ws.details_serviceParameters/permMethod_permView_By_Action_On_Order____Create__and___TypeView</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="create_mainInformation_wTypeVOIPTab" type="eltab">
                    <formReference type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/frmui_Forms/vform_create_mainInformation_wTypeVOIP</variablePath>
                      </variablePathList>
                    </formReference>
                    <label>Service Parameters: Main Information</label>
                    <validationDisplay>Static Icons</validationDisplay>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                        <variablePath>doc_ds_ws.details_serviceParameters/permMethod_permView_By_Action_On_Order____Create__and_Type____VOIP_View</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="create_mainInformation_wTypeHSITab" type="eltab">
                    <formReference type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/frmui_Forms/vform_create_mainInformation_wTypeHSI</variablePath>
                      </variablePathList>
                    </formReference>
                    <label>Service Parameters: Main Information</label>
                    <validationDisplay>Static Icons</validationDisplay>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                        <variablePath>doc_ds_ws.details_serviceParameters/permMethod_permView_By_Action_On_Order____Create__and_Type____HSI_View</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="update_mainInformationTab" type="eltab">
                    <formReference type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/frmui_Forms/vform_update_mainInformation</variablePath>
                      </variablePathList>
                    </formReference>
                    <label>Service Parameters: Main Information</label>
                    <validationDisplay>Static Icons</validationDisplay>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                        <variablePath>doc_ds_ws.details_serviceParameters/permMethod_permView_By_Action_On_Order____Update_View</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="default_mainInformationTab" type="eltab">
                    <formReference type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/frmui_Forms/vform_default_mainInformation</variablePath>
                      </variablePathList>
                    </formReference>
                    <label>Service Parameters: Main Information</label>
                    <validationDisplay>Static Icons</validationDisplay>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/uivar_model</variablePath>
                        <variablePath>doc_ds_ws.details_serviceParameters/permMethod_permView_By_Default__when_Action_On_Order_is_null_View</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                </elementList>
              </override>
            </overrideList>
          </overlay>
          <overlay name="Menu" type="exov">
            <base>ui_com.conceptwave.system.DocumentUserInterface/frmui_Forms/vform_Menu</base>
            <extends>ui_com.conceptwave.system.DocumentUserInterface/frmui_Forms/vform_Menu</extends>
            <label>Menu</label>
            <overrideList>
              <override name="cwfSave" type="eldel"/>
              <override name="hl1" type="elext">
                <elementList>
                  <element name="validate" type="elmnu">
                    <menuAccel type="mAccelP">
                      <keyName>V</keyName>
                      <keys enum-type="menuAccelFlag">ALT_KEY</keys>
                    </menuAccel>
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/usrActionMethod_validateMeth_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <icon>/cwf/complete.gif</icon>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/permMethod_validateMethView</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="submitOrder" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/usrActionMethod_submitOrder_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Submit Order (To Granite)</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/permMethod_viewByActionOnOrderCreateForOMAndHomeView</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="updateOrder" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/usrActionMethod_updateOrder_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Update Order (To Granite)</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/permMethod_viewByActionOnOrderUpdateForOMView</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="addSP_VOIP" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/usrActionMethod_addSP_VOIP_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Add Service Parameters: &quot;VOIP&quot;</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/permMethod_viewByActionOnOrderCreateForOMAndHomeView1</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="addSP_HSI" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/usrActionMethod_addSP_HSI_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Add Service Parameters: &quot;HSI&quot;</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/permMethod_viewByActionOnOrderCreateForOMAndHomeView2</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="addSP" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/usrActionMethod_addSP_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Add Further Service Parameters</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/permMethod_viewByActionOnOrderCreateForOMAndHomeView3</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="addNV" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/usrActionMethod_addNV_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Add &quot;Name Value&quot;</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/permMethod_viewByActionOnOrderCreateForSPAndHomeView</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="deleteSP" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/usrActionMethod_deleteSP_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Delete &quot;Service Parameters&quot;</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/permMethod_viewByActionOnOrderCreateForSPAndHomeView1</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="deleteNV" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/usrActionMethod_deleteNV_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Delete &quot;Name Value&quot;</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_ds_ws.details_serviceParameters/ui_UserInterface/permMethod_viewByActionOnOrderCreateForNVView</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                </elementList>
              </override>
            </overrideList>
          </overlay>
        </overlayList>
      </vform>
    </vformList>
    <methodList>
      <method name="runTrigger" type="usrActionMethod">
        <script><![CDATA[
          this.cw$super_runTrigger();
          Global.runContentDisplayScript(this, "displayScript");
        ]]></script>
      </method>
      <method name="validateMeth" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script>return 1;</script>
      </method>
      <method name="validateMeth_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_ds_ws.details_serviceParameters/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.validateMeth();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="cwAutosaveConfirmation" type="action">
        <valueType>dtype_com.conceptwave.system.String</valueType>
        <script><![CDATA[
          if (!this.isValid && Global.isAutosaveEnabled() && !this.model.readonly && this.model.isSavable()) {
            return "UU0256:YN";
          }
          return null;
        ]]></script>
      </method>
      <method name="validateMethView" type="permMethod">
        <script><![CDATA[
          // SCRIPT MIGRATION: if null, return false
          var $v=
          !this.model._isSearch() && this.model._getNoDBOperations();
          if ($v == null)
             return false;
          else return $v;
        ]]></script>
      </method>
      <method name="submitOrder" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                var debug = "[MENU ITEM: SUBMIT ORDER]";
                // Submit the order to Granite
                var order = document.order;


                // [b] Validation of the 'STC Order'
                var validation = null;
                var exceptionMessage = "";
                try {

                      var checkHSI = false;
                      var checkVOIP = false;
                      var checkAttributeCSC = false;
                      var checkAttributeRatePlan = false;
                      var checkAttributeSuppCodes = false;
                      var checkAttributeDownStreamBW = false;
                      var checkAttributeUpStreamBW = false;

                      // [a] Validation on the services of the order
                      var services = order.serviceParametersList;
                      if (services != null && services.count > 0) {
                            for (var p = 0; p < services.count; p++) {
                                  var service = services[p].serviceParameters.serviceType;
                                  if (service == "FTTH_VOIP") {
                                        checkVOIP = true;
                                        var attributes = services[p].nameValueList;
                                        if (attributes != null && attributes.count > 0) {
                                              for (var v = 0; v < attributes.count; v++) {
                                                    var attribute = attributes[v].nameValue.name;
                                                    var value = attributes[v].nameValue.value;
                                                    if (attribute == "CSC" && value != null && value.trim() != "") checkAttributeCSC = true;
                                                    if (attribute == "Rate Plan" && value != null && value.trim() != "") checkAttributeRatePlan = true;
                                                    if (attribute == "SUPP_CODES" && value != null && value.trim() != "") checkAttributeSuppCodes = true;
                                              }
                                        }
                                  }
                                  if (service == "FTTH_HSI") {
                                        checkHSI = true;
                                        var attributes = services[p].nameValueList;
                                        if (attributes != null && attributes.count > 0) {
                                              for (var v = 0; v < attributes.count; v++) {
                                                    var attribute = attributes[v].nameValue.name;
                                                    var value = attributes[v].nameValue.value;
                                                    if (attribute == "DownstreamBandwidth" && value != null && value.trim() != "") checkAttributeDownStreamBW = true;
                                                    if (attribute == "UpstreamBandwidth" && value != null && value.trim() != "") checkAttributeUpStreamBW = true;
                                              }
                                        }
                                  }
                            }
                      }
                      // - check if HSI or VOIP services are included (at least one must be there)
                      if (!checkHSI && !checkVOIP){
                            // Customized exception AE0010:
                            // - Inconsistent request: at least one service, either HSI or VOIP, must be defined!
                            Global.throwException("AE0010");
                      }
                      // - check if VOIP service includes all the mandatory attributes
                      if (checkVOIP && (!checkAttributeCSC || !checkAttributeRatePlan || !checkAttributeSuppCodes)) {
                            // Customized exception AE0011:
                            // - Incosistent request: attributes 'CSC', 'Rate Plan' and 'SUPP_CODES' must be defined for VOIP service!
                            Global.throwException("AE0011");
                      }
                      // - check if HSI service includes all the mandatory attributes
                      if (checkHSI && (!checkAttributeDownStreamBW || !checkAttributeUpStreamBW)) {
                            // Customized exception AE0012:
                            // - Incosistent request: attributes 'DownstreamBandwidth' and 'UpstreamBandwidth' must be defined for HSI service!
                            Global.throwException("AE0012");
                      }

                      validation = order.validate(10, true);
                      if (validation != null) {
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "FOUND VALIDATIONS ERROR FOR ORDER STC WITH ID: " + order.id + "...");

                            for (var j = 0; j < validation.length; j = j + 2) {
                                  exceptionMessage = exceptionMessage + "[CODE '" + validation[j] + "' MESSAGE '" + validation[j + 1] + "']\n";
                            }


                            var errorMessage = "";
                            if(validation.length > 1) {
                                  errorMessage = (validation[1] == null ? validation[0] : validation[1]);
                            }
                            else if(validation.length > 0) {
                                  errorMessage = validation[0];
                            }
                            // Customized exception AE0003:
                            // - Validation errors found while processing "{0}" with id. "{1}": {2}!
                            Global.throwException(Global.translateText("AE0003", null, ["Order STC", order.orderMessage.orderNumber, errorMessage]));
                      }
                      // Modified the 09.10.2008:
                      // - according to mail of Mick Winters
                      // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                      order.orderMessage.internalOrderStatus = "Order Received";
                      order.save();
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "ORDER MADE PERSISTENT ON THE DB...");

                      // Modified the 09.10.2008:
                      // - according to mail of Mick Winters
                      // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                      order.orderMessage.internalOrderStatus = "Waiting for Granite Response";
                      order.save();

                      var pid = Process.startProcess("processSTC:mainSTCProcess", order.id);
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "Started Process with pid " + pid);

                      Global.commitTransaction("ORDER");

                      var countSleeping = 0;

                      var processCompleted = false;
                      while(!processCompleted) {
                            // sleeps 5 seconds and checks the status of the process ...
          //debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "Sleeping before checking the status of Process " + pid);
                            processSTC.timeDelay("GRANITE_RESPONSE_DELAY_TIME");

                            processCompleted = processSTC.checkIfProcessIsCompleted(pid);
                            countSleeping++;
                      }

                      // reload the order because modified by the process
                      var cworderId = order.id;
                      order = Order.getOrderById(cworderId);

                      if (order.orderACK.Status == "SUCCESS") {
                            // Modified the 09.10.2008:
                            // - according to mail of Mick Winters
                            // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                            order.orderMessage.internalOrderStatus = "Granite Call SUCCESSFUL";
                            order.orderMessage.circuitStatus = "ORDERED";
                            order.orderMessage.orderStatus = "READY";
                            order.save();
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + "<SUBMIT ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' WORKED CORRECTLY!");
                            Global.logDebug("<SUBMIT ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' WORKED CORRECTLY!");

                            var message = "ACTION: SUBMIT ORDER (TO GRANITE):\nORDER # '" + order.orderMessage.orderNumber + "' WORKED CORRECTLY!";
                            Global.showUserMessage(message);

                            Global.setApplication("ds_ws:report");
                      }
                      else{
                            // Modified the 09.10.2008:
                            // - according to mail of Mick Winters
                            // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                            order.orderMessage.internalOrderStatus = "Order Rejected By Granite";
                            order.save();
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + "<SUBMIT ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' NOT STORED... Order Rejected By Granite [" + order.orderACK.ErrorDescription + "]...");
                            Global.logDebug("<SUBMIT ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' NOT STORED... Order Rejected By Granite [" + order.orderACK.ErrorDescription + "]...");

                            var message = "ACTION: SUBMIT ORDER (TO GRANITE):\nORDER # '" + order.orderMessage.orderNumber + "' NOT STORED... Order Rejected By Granite [" + order.orderACK.ErrorDescription + "]...";
                            Global.showUserMessage(message);
                      }
                }
                catch(exc){
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "CATCHED ERROR MAKING THE ORDER PERSISTENT ON THE DB [" + exc.message + "]...");
                      var message = "ACTION: SUBMIT ORDER (TO GRANITE):\n" + exc.message + "\n" + exceptionMessage;
                      Global.showUserMessage(message);
                }
        ]]></script>
      </method>
      <method name="submitOrder_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_ds_ws.details_serviceParameters/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.submitOrder();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderCreateForOMAndHomeView" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderCreateForOMAndHomeView</reference>
      </method>
      <method name="updateOrder" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                var debug = "[MENU ITEM: UPDATE ORDER]";
                // Update the order to Granite
                var order = document.order;

                // [b] Validation of the 'STC Order'
                var validation = null;
                var exceptionMessage = "";
                try {

                      validation = order.validate(10, true);
                      if (validation != null) {
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "FOUND VALIDATIONS ERROR FOR ORDER STC WITH ID: " + order.id + "...");

                            for (var j = 0; j < validation.length; j = j + 2) {
                                  exceptionMessage = exceptionMessage + "[CODE '" + validation[j] + "' MESSAGE '" + validation[j + 1] + "']\n";
                            }

                            var errorMessage = "";
                            if(validation.length > 1) {
                                  errorMessage = (validation[1] == null ? validation[0] : validation[1]);
                            }
                            else if(validation.length > 0) {
                                  errorMessage = validation[0];
                            }
                            // Customized exception AE0003:
                            // - Validation errors found while processing "{0}" with id. "{1}": {2}!
                            Global.throwException(Global.translateText("AE0003", null, ["Order STC", order.orderMessage.orderNumber, errorMessage]));
                      }
                      // Modified the 09.10.2008:
                      // - according to mail of Mick Winters
                      // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                      order.orderMessage.internalOrderStatus = "Order Received";
                      order.save();
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "ORDER MADE PERSISTENT ON THE DB...");

                      // Modified the 09.10.2008:
                      // - according to mail of Mick Winters
                      // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                      order.orderMessage.internalOrderStatus = "Waiting for Granite Response";
                      order.save();

                      var pid = Process.startProcess("processSTC:mainSTCProcess", order.id);
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "Started Process with pid " + pid);

                      Global.commitTransaction("ORDER");

                      var countSleeping = 0;

                      var processCompleted = false;
                      while(!processCompleted) {
                            // sleeps 5 seconds and checks the status of the process ...
          //debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "Sleeping before checking the status of Process " + pid);
                            processSTC.timeDelay("GRANITE_RESPONSE_DELAY_TIME");

                            processCompleted = processSTC.checkIfProcessIsCompleted(pid);
                            countSleeping++;
                      }

                      // reload the order because modified by the process
                      var cworderId = order.id;
                      order = Order.getOrderById(cworderId);

                      if (order.orderACK.Status == "SUCCESS") {
                            // Modified the 09.10.2008:
                            // - according to mail of Mick Winters
                            // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                            order.orderMessage.internalOrderStatus = "Granite Call SUCCESSFUL";
                            order.save();
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + "<UPDATE ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' WORKED CORRECTLY!");
                            Global.logDebug("<UPDATE ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' WORKED CORRECTLY!");

                            var message = "ACTION: UPDATE ORDER (TO GRANITE):\nORDER # '" + order.orderMessage.orderNumber + "' WORKED CORRECTLY!";
                            Global.showUserMessage(message);

                            Global.setApplication("ds_ws:report");
                      }
                      else{
                            // Modified the 09.10.2008:
                            // - according to mail of Mick Winters
                            // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                            order.orderMessage.internalOrderStatus = "Order Rejected By Granite";
                            order.save();
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + "<UPDATE ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' NOT STORED... Order Rejected By Granite [" + order.orderACK.ErrorDescription + "]...");
                            Global.logDebug("<UPDATE ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' NOT STORED... Order Rejected By Granite [" + order.orderACK.ErrorDescription + "]...");

                            var message = "ACTION: UPDATE ORDER (TO GRANITE):\nORDER # '" + order.orderMessage.orderNumber + "' NOT STORED... Order Rejected By Granite [" + order.orderACK.ErrorDescription + "]...";
                            Global.showUserMessage(message);
                      }
                }
                catch(exc){
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "CATCHED ERROR MAKING THE ORDER PERSISTENT ON THE DB [" + exc.message + "]...");
                      var message = "ACTION: UPDATE ORDER (TO GRANITE):\n" + exc.message + "\n" + exceptionMessage;
                      Global.showUserMessage(message);
                }
        ]]></script>
      </method>
      <method name="updateOrder_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_ds_ws.details_serviceParameters/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.updateOrder();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderUpdateForOMView" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderUpdateForOMView</reference>
      </method>
      <method name="addSP_VOIP" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                // Retrieve the document defined in the pop-up window
          //      if (this.confirmObject != null) {

          //            var sp = this.confirmObject.listSP;
          //            if (sp == "VOIP") {

                            // Check if the Service Parameters requested is already defined
                            var order = document.order;
                            for (var k = 0; order.serviceParametersList != null && k < order.serviceParametersList.count; k++) {
                                  if (order.serviceParametersList[k].serviceParameters.serviceType == "FTTH_VOIP") {
                                        Global.throwException("Action not performed: the order already contains a 'VOIP' service!");
                                  }
                            }

                            // Add a VOIP "Service Parameters" item
                            if (order.serviceParametersList == null){
                                  order.addItem("serviceParametersList");
                            }
                            var item = order.serviceParametersList.newInstance();
                            item.serviceParameters.serviceType = "FTTH_VOIP";
                            item.serviceParameters.creationDate = new Date();
                            // Setting the Service Date as today + 7 days
                            var today = new Date();
                            var todayMS = today.getTime();
                            var weekMS = 604800000;
                            item.serviceParameters.serviceDate = new Date(todayMS + weekMS);

                            // Adding the attributes for VOIP
                            if (item.nameValueList == null){
                                  item.addItem("nameValueList");
                            }
                            var attributeCSC = item.nameValueList.newInstance();
                            attributeCSC.nameValue.name = "CSC";
                            var attributeRatePlan = item.nameValueList.newInstance();
                            attributeRatePlan.nameValue.name = "Rate Plan";
                            var attributeSuppCodes = item.nameValueList.newInstance();
                            attributeSuppCodes.nameValue.name = "SUPP_CODES";
          //            }
          //            else if (sp == "HSI") {

                            // Add a VOIP "Service Parameters" item
          //                  var order = document.order;
          //                  if (order.serviceParametersList == null){
          //                        order.addItem("serviceParametersList");
          //                  }
          //                  var item = order.serviceParametersList.newInstance();
          //                  item.serviceParameters.serviceType = "HSI";
                            // Adding the attributes for HSI
          //                  if (item.nameValueList == null){
          //                        item.addItem("nameValueList");
          //                  }
          //                  var attributeDownStreamBW = item.nameValueList.newInstance();
          //                  attributeDownStreamBW.nameValue.name = "DownstreamBandwidth";
          //                  var attributeUpStreamBW = item.nameValueList.newInstance();
          //                  attributeUpStreamBW.nameValue.name = "UpstreamBandwidth";
          //            }
          //            else{

                            // Add a generic "Service Parameters" item
          //                  var order = document.order;
          //                  if (order.serviceParametersList == null){
          //                        order.addItem("serviceParametersList");
          //                  }
          //                  order.serviceParametersList.newInstance();
          //            }
          //      }
        ]]></script>
      </method>
      <method name="addSP_VOIP_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_ds_ws.details_serviceParameters/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.addSP_VOIP();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderCreateForOMAndHomeView1" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderCreateForOMAndHomeView</reference>
      </method>
      <method name="addSP_HSI" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                // Retrieve the document defined in the pop-up window
          //      if (this.confirmObject != null) {

          //            var sp = this.confirmObject.listSP;
          //            if (sp == "VOIP") {

                            // Add a VOIP "Service Parameters" item
          //                  var order = document.order;
          //                  if (order.serviceParametersList == null){
          //                        order.addItem("serviceParametersList");
          //                  }
          //                  var item = order.serviceParametersList.newInstance();
          //                  item.serviceParameters.serviceType = "VOIP";
                            // Adding the attributes for VOIP
          //                  if (item.nameValueList == null){
          //                        item.addItem("nameValueList");
          //                  }
          //                  var attributeCSC = item.nameValueList.newInstance();
          //                  attributeCSC.nameValue.name = "CSC";
          //                  var attributeRatePlan = item.nameValueList.newInstance();
          //                  attributeRatePlan.nameValue.name = "Rate Plan";
          //                  var attributeSuppCodes = item.nameValueList.newInstance();
          //                  attributeSuppCodes.nameValue.name = "SUPP_CODES";
          //            }
          //            else if (sp == "HSI") {

                            // Check if the Service Parameters requested is already defined
                            var order = document.order;
                            for (var k = 0; order.serviceParametersList != null && k < order.serviceParametersList.count; k++) {
                                  if (order.serviceParametersList[k].serviceParameters.serviceType == "FTTH_HSI") {
                                        Global.throwException("Action not performed: the order already contains a 'HSI' service!");
                                  }
                            }

                            // Add a HSI "Service Parameters" item
                            if (order.serviceParametersList == null){
                                  order.addItem("serviceParametersList");
                            }
                            var item = order.serviceParametersList.newInstance();
                            item.serviceParameters.serviceType = "FTTH_HSI";
                            item.serviceParameters.creationDate = new Date();
                            // Setting the Service Date as today + 7 days
                            var today = new Date();
                            var todayMS = today.getTime();
                            var weekMS = 604800000;
                            item.serviceParameters.serviceDate = new Date(todayMS + weekMS);

                            // Adding the attributes for HSI
                            if (item.nameValueList == null){
                                  item.addItem("nameValueList");
                            }
                            var attributeDownStreamBW = item.nameValueList.newInstance();
                            attributeDownStreamBW.nameValue.name = "DownstreamBandwidth";
                            var attributeUpStreamBW = item.nameValueList.newInstance();
                            attributeUpStreamBW.nameValue.name = "UpstreamBandwidth";
          //            }
          //            else{

                            // Add a generic "Service Parameters" item
          //                  var order = document.order;
          //                  if (order.serviceParametersList == null){
          //                        order.addItem("serviceParametersList");
          //                  }
          //                  order.serviceParametersList.newInstance();
          //            }
          //      }
        ]]></script>
      </method>
      <method name="addSP_HSI_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_ds_ws.details_serviceParameters/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.addSP_HSI();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderCreateForOMAndHomeView2" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderCreateForOMAndHomeView</reference>
      </method>
      <method name="addSP" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                // Retrieve the document defined in the pop-up window
          //      if (this.confirmObject != null) {

          //            var sp = this.confirmObject.listSP;
          //            if (sp == "VOIP") {

                            // Add a VOIP "Service Parameters" item
          //                  var order = document.order;
          //                  if (order.serviceParametersList == null){
          //                        order.addItem("serviceParametersList");
          //                  }
          //                  var item = order.serviceParametersList.newInstance();
          //                  item.serviceParameters.serviceType = "VOIP";
                            // Adding the attributes for VOIP
          //                  if (item.nameValueList == null){
          //                        item.addItem("nameValueList");
          //                  }
          //                  var attributeCSC = item.nameValueList.newInstance();
          //                  attributeCSC.nameValue.name = "CSC";
          //                  var attributeRatePlan = item.nameValueList.newInstance();
          //                  attributeRatePlan.nameValue.name = "Rate Plan";
          //                  var attributeSuppCodes = item.nameValueList.newInstance();
          //                  attributeSuppCodes.nameValue.name = "SUPP_CODES";
          //            }
          //            else if (sp == "HSI") {

                            // Add a VOIP "Service Parameters" item
          //                  var order = document.order;
          //                  if (order.serviceParametersList == null){
          //                        order.addItem("serviceParametersList");
          //                  }
          //                  var item = order.serviceParametersList.newInstance();
          //                  item.serviceParameters.serviceType = "HSI";
                            // Adding the attributes for HSI
          //                  if (item.nameValueList == null){
          //                        item.addItem("nameValueList");
          //                  }
          //                  var attributeDownStreamBW = item.nameValueList.newInstance();
          //                  attributeDownStreamBW.nameValue.name = "DownstreamBandwidth";
          //                  var attributeUpStreamBW = item.nameValueList.newInstance();
          //                  attributeUpStreamBW.nameValue.name = "UpstreamBandwidth";
          //            }
          //            else{

                            // Add a generic "Service Parameters" item
                            var order = document.order;
                            if (order.serviceParametersList == null){
                                  order.addItem("serviceParametersList");
                            }
                            var item = order.serviceParametersList.newInstance();
                            item.serviceParameters.creationDate = new Date();
                            // Setting the Service Date as today + 7 days
                            var today = new Date();
                            var todayMS = today.getTime();
                            var weekMS = 604800000;
                            item.serviceParameters.serviceDate = new Date(todayMS + weekMS);
          //            }
          //      }
        ]]></script>
      </method>
      <method name="addSP_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_ds_ws.details_serviceParameters/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.addSP();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderCreateForOMAndHomeView3" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderCreateForOMAndHomeView</reference>
      </method>
      <method name="addNV" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                // Add a "Name Value" item
                var order = document.order;

                var position = -1;
                for (var k = 0; k < order.serviceParametersList.count; k++) {
                      if (order.serviceParametersList[k].serviceParameters.id == document.id) {
                            position = k;
                            break;
                      }
                }

                if (order.serviceParametersList[position].nameValueList == null){
                      order.serviceParametersList[position].addItem("nameValueList");
                }

                order.serviceParametersList[position].nameValueList.newInstance();

          //      order.save();
        ]]></script>
      </method>
      <method name="addNV_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_ds_ws.details_serviceParameters/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.addNV();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderCreateForSPAndHomeView" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderCreateForSPAndHomeView</reference>
      </method>
      <method name="deleteSP" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                // Delete a "Service Parameters" item
                var order = document.order;

                var list = document.parentOrderItem.allChildren;

                if (list != null && list.length > 0) {
                      for (var k = 0; k < list.length; k++) {
                            list[k].deleteItem();
                      }
                }

          //      order.save();

                Global.setCurrentObject(order);
        ]]></script>
      </method>
      <method name="deleteSP_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_ds_ws.details_serviceParameters/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.deleteSP();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderCreateForSPAndHomeView1" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderCreateForSPAndHomeView</reference>
      </method>
      <method name="deleteNV" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                // Delete a "Name Value" item
                var order = document.order;

                var parent = null;
                for (var k = 0; k < order.serviceParametersList.count; k++) {
                      for (var j = 0; j < order.serviceParametersList[k].nameValueList.count; j++) {
                            if (order.serviceParametersList[k].nameValueList[j].nameValue.id == document.id) {
                                  parent = order.serviceParametersList[k].serviceParameters;
                                  break;
                            }
                      }
                }

                // Those attributes are mandatory for VOIP
                if (parent != null && parent.serviceType == "FTTH_VOIP") {
                      if (document.name == "CSC" ||
                            document.name == "SUPP_CODES" ||
                            document.name == "Rate Plan"){
                            Global.throwException("Action not performed: attribute mandatory for 'VOIP' service!");
                      }
                }

                // Those attributes are mandatory for HSI
                if (parent != null && parent.serviceType == "FTTH_HSI") {
                      if (document.name == "UpstreamBandwidth" ||
                            document.name == "DownstreamBandwidth"){
                            Global.throwException("Action not performed: attribute mandatory for 'HSI' service!");
                      }
                }

                document.deleteItem();

          //      order.save();

                Global.setCurrentObject(order);
        ]]></script>
      </method>
      <method name="deleteNV_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_ds_ws.details_serviceParameters/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.deleteNV();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderCreateForNVView" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderCreateForNVView</reference>
      </method>
    </methodList>
  </UserInterface>
</document>