<?xml version="1.0" encoding="UTF-8" ?>
<rules>
<rule filenameHash="9edfb4cf70a336a39594873ab180d471" versionHash="eccbc87e4b5ce2fe28308fd9f2a7baf3" name="processSTC.archiveOrderRule">
  <guid>{05074af9-8c8b-72bf-5d1c-ee38e7ce5d68}</guid>
  <label>Archive Order Rule</label>
  <metaVersion>3</metaVersion>
  <parameterMap>
    <parameter key="input1">doc_cwf_pm.archiveProcDoc</parameter>
  </parameterMap>
  <ruleDocument>doc_cwf_oe.orderInstance</ruleDocument>
  <ruleType>finder</ruleType>
  <instanceList>
    <instance name="archive" type="rinst">
      <fieldsListList>
        <fieldsList type="ritem">
          <datatypeList>
            <datatype>dtype_cwf.allStates</datatype>
          </datatypeList>
          <index>0</index>
          <pathList>
            <path>doc_cwf_oe.orderInstance/leaf_state</path>
          </pathList>
          <root>doc_cwf_oe.orderInstance</root>
        </fieldsList>
        <fieldsList type="ritem">
          <operation>equal</operation>
        </fieldsList>
        <fieldsList type="ritem">
          <attribute>END</attribute>
          <dataType>dtype_cwf.allStates</dataType>
        </fieldsList>
        <fieldsList type="ritem">
          <newLineAfter>true</newLineAfter>
          <operation>and</operation>
        </fieldsList>
        <fieldsList type="ritem">
          <datatypeList>
            <datatype>dtype_cwf.dateTimeSec</datatype>
          </datatypeList>
          <index>0</index>
          <newLineBefore>true</newLineBefore>
          <pathList>
            <path>doc_cwf_oe.orderInstance/leaf_updateDate</path>
          </pathList>
          <root>doc_cwf_oe.orderInstance</root>
        </fieldsList>
        <fieldsList type="ritem">
          <operation>less</operation>
        </fieldsList>
        <fieldsList type="ritem">
          <gfunction>GetDueDate</gfunction>
          <ruleItemList>
            <ruleItem type="ritem">
              <paramNo>1</paramNo>
              <ruleItemList>
                <ruleItem type="ritem">
                  <isNull>true</isNull>
                </ruleItem>
              </ruleItemList>
            </ruleItem>
            <ruleItem type="ritem">
              <paramNo>2</paramNo>
              <ruleItemList>
                <ruleItem type="ritem">
                  <gfunction>CurrentTime</gfunction>
                </ruleItem>
              </ruleItemList>
            </ruleItem>
            <ruleItem type="ritem">
              <paramNo>3</paramNo>
              <ruleItemList>
                <ruleItem type="ritem">
                  <attribute>-30</attribute>
                  <dataType>dtype_com.conceptwave.system.Integer</dataType>
                </ruleItem>
              </ruleItemList>
            </ruleItem>
            <ruleItem type="ritem">
              <paramNo>4</paramNo>
              <ruleItemList>
                <ruleItem type="ritem">
                  <attribute>3</attribute>
                  <dataType>dtype_cwf_up.durationType</dataType>
                </ruleItem>
              </ruleItemList>
            </ruleItem>
          </ruleItemList>
        </fieldsList>
        <fieldsList type="ritem">
          <operation>and</operation>
        </fieldsList>
        <fieldsList type="ritem">
          <datatypeList>
            <datatype>dtype_cwf.docId</datatype>
          </datatypeList>
          <index>0</index>
          <pathList>
            <path>doc_cwf_oe.orderInstance/leaf_cwDocId</path>
          </pathList>
          <root>doc_cwf_oe.orderInstance</root>
        </fieldsList>
        <fieldsList type="ritem">
          <operation>greater</operation>
        </fieldsList>
        <fieldsList type="ritem">
          <datatypeList>
            <datatype>dtype_cwf.docId</datatype>
          </datatypeList>
          <index>1</index>
          <pathList>
            <path>doc_cwf_pm.archiveProcDoc/leaf_id</path>
          </pathList>
          <root>doc_cwf_pm.archiveProcDoc</root>
        </fieldsList>
      </fieldsListList>
      <guid>{0db06ca5-71ab-6833-f200-b950e5cfd97e}</guid>
      <label>archive</label>
      <orderByListList>
        <orderByList type="ritem">
          <datatypeList>
            <datatype>dtype_cwf.docId</datatype>
          </datatypeList>
          <index>0</index>
          <pathList>
            <path>doc_cwf_oe.orderInstance/leaf_cwDocId</path>
          </pathList>
          <root>doc_cwf_oe.orderInstance</root>
          <sort>1</sort>
        </orderByList>
      </orderByListList>
    </instance>
  </instanceList>
</rule>
</rules>