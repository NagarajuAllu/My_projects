<?xml version="1.0" encoding="UTF-8" ?>
<script name="ds_ws.getNVPairDataToParkProvisioning">
  <label>Get NVPair Data To Park Provisioning</label>
  <metaVersion>25</metaVersion>
  <parameterList>
    <parameter name="isHatifMigration" type="rifp">
      <type>dtype_com.conceptwave.system.Boolean</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var configVariableName = (isHatifMigration ? "HATIF2SIPMIGRATION_NV"   : "E12SIPMIGRATION_NV");
    var nvPairDefaultValue = (isHatifMigration ? "HatifToSIPMigration;Yes" : "E1ToSIPMigration;Y");
    var nvPairData = null;

    var foundConfigValue = Global.getConfigVariable(configVariableName);
    if(foundConfigValue != null) {
        nvPairData = foundConfigValue.split(";");

        // var nvPairData = Global.getConfigVariable(configVariableName, nvPairDefaultValue).split(";");
        if(nvPairData.length != 2) {
    debugPrintln("[" + common.common_currentDateAsStringDDMMYYYYHH24MISS() + "] getNVPairDataToParkProvisioning - Read value '" + nvPairData + "' has the wrong format. Using the default one: '" + nvPairDefaultValue + "'");

            nvPairData = nvPairDefaultValue.split(";");
        }
    }
    else {
    debugPrintln("[" + common.common_currentDateAsStringDDMMYYYYHH24MISS() + "] getNVPairDataToParkProvisioning - Missing config variable '" + configVariableName + "'. Using the default value: '" + nvPairDefaultValue + "'");
        nvPairData = nvPairDefaultValue.split(";");
    }

    return nvPairData;
  ]]></script>
</script>