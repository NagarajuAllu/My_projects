<?xml version="1.0" encoding="UTF-8" ?>
<script filenameHash="5611ed5335acc24ebdb44db3f8bf3341" versionHash="a87ff679a2f3e71d9181a67b7542122c" name="ds_ws.compareReasonCodesWithExistingOnes">
  <label>Compare Reason Codes with Existing Ones</label>
  <metaVersion>4</metaVersion>
  <parameterList>
    <parameter name="existingParentDocId" type="rifp">
      <description>&lt;html&gt;&#xd;
  &lt;head&gt;&#xd;
&#xd;
  &lt;/head&gt;&#xd;
  &lt;body&gt;&#xd;
    &lt;p style=&quot;margin-top: 0&quot;&gt;&#xd;
      Parent Doc Id to get Reason Codes from existing document&#xd;
    &lt;/p&gt;&#xd;
  &lt;/body&gt;&#xd;
&lt;/html&gt;&#xd;
</description>
      <type>nmeta_com.conceptwave.system.Object</type>
    </parameter>
    <parameter name="receivedParentDocId" type="rifp">
      <description>&lt;html&gt;&#xd;
  &lt;head&gt;&#xd;
    &#xd;
  &lt;/head&gt;&#xd;
  &lt;body&gt;&#xd;
    &lt;p style=&quot;margin-top: 0&quot;&gt;&#xd;
      Parent Doc Id to get Reason Codes from received document&#xd;
    &lt;/p&gt;&#xd;
  &lt;/body&gt;&#xd;
&lt;/html&gt;&#xd;
</description>
      <type>nmeta_com.conceptwave.system.Object</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var reasonCodeExisitngAsArray = null;
    if (existingParentDocId){
      reasonCodeExisitngAsArray = ds_ws.getReasonCodesAsArray(existingParentDocId);
    };

    var reasonCodeNewAsArray = null;
    if (receivedParentDocId){
      reasonCodeNewAsArray = ds_ws.getReasonCodesAsArray(receivedParentDocId);
    };

    var reasonCodeExisitngAsString = "";
    var reasonCodeNewAsString = "";

    if (reasonCodeNewAsArray != null){
      reasonCodeNewAsString = reasonCodeNewAsArray.sort().join();
    }

    if (reasonCodeExisitngAsArray != null){
      reasonCodeExisitngAsString = reasonCodeExisitngAsArray.sort().join();
    }


    return (reasonCodeExisitngAsString == reasonCodeNewAsString);
  ]]></script>
</script>