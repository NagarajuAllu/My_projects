<?xml version="1.0" encoding="UTF-8" ?>
<script name="ds_ws.isLockError">
  <label>Is Lock Error</label>
  <metaVersion>25</metaVersion>
  <parameterList>
    <parameter name="failureListFromGranite" type="rifp">
      <array>true</array>
      <type>nmeta_com.conceptwave.system.Object</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var isLockError = false;

    var resultList = Finder.runFinder("ds_ws.findErrorDescriptionsForLock", "select", null);

    if (resultList != null && resultList.length > 0) {
        if(failureListFromGranite != null) {
            for(var j=0; j<failureListFromGranite.length  && !isLockError; j++) {
                var errorDescription = failureListFromGranite[j].errorDescription;

                if(errorDescription != null) {
                    errorDescription = errorDescription.toUpperCase();
                    for(var i=0; i<resultList.length && !isLockError; i++) {
                        if(errorDescription.indexOf(resultList[i].errorDescription.toUpperCase()) >= 0) {
                            isLockError = true;
                        }
                    }
                }
            }
        }
    }

    return isLockError;
  ]]></script>
</script>