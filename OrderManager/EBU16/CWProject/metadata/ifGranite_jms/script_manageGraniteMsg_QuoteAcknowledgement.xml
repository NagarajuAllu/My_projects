<?xml version="1.0" encoding="UTF-8" ?>
<script filenameHash="7005aa7ccc2574005b53bc63561874d2" versionHash="eccbc87e4b5ce2fe28308fd9f2a7baf3" name="ifGranite_jms.manageGraniteMsg_QuoteAcknowledgement">
  <guid>{0bb9ea4c-ded3-3c7a-f0d3-e6c919b358e1}</guid>
  <label>Manage Granite Message: Quote Acknowledgement [JMS]</label>
  <metaVersion>3</metaVersion>
  <parameterList>
    <parameter name="input" type="rifp">
      <type>nmeta_com.conceptwave.system.Object</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var debug = "[MANAGE GRANITE MESSAGE VIA 'JMS': QUOTE ACKNOWLEDGEMENT] ";
    debugPrintln("[" + common.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "START...");
    debugPrintln("[" + common.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "INPUT: " + (input != null ? input.toXML() : "") + "...");

          if (input != null) {

                var inputSOAP = new DataStructure("ifEAI_QA_17122008:receiveRequest_el");
                var outputSOAP = null;

                // - mapping the input JMS message vs. input SOAP message
                inputSOAP.QuoteAck.CircuitRemarks = input.circuitRemarks;
                inputSOAP.QuoteAck.QuoteNumber = input.orderNumber;
                inputSOAP.QuoteAck.ValidationResponse = input.validationResponse;
                inputSOAP.QuoteAck.BusinessUnit  = "Enterprise";                                                // TO BE MAPPED

                try {
    debugPrintln("[" + common.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "INVOKING INTERFACE...");
                      outputSOAP = ifEAI_QA_17122008.invokeEAIIF_QuoteAcknowledgement(inputSOAP);
    debugPrintln("[" + common.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "RESULT: " +
                       (outputSOAP != null && outputSOAP.length == 1 ?
                        outputSOAP[0].toXML() : "") + "...");
                }
                catch (exc){
    debugPrintln("[" + common.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "EXCEPTION: " + exc);
                }
          }
          else{
    debugPrintln("[" + common.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "- WARNING - INTERFACE NOT INVOKED: INPUT IS NULL...");
          }
    debugPrintln("[" + common.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "END...");
  ]]></script>
</script>