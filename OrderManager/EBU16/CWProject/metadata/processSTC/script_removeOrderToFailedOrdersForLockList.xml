<?xml version="1.0" encoding="UTF-8" ?>
<script name="processSTC.removeOrderToFailedOrdersForLockList">
  <label>Remove Order To Failed Orders For Lock List</label>
  <metaVersion>25</metaVersion>
  <parameterList>
    <parameter name="orderNumberRejected" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    if(orderNumberRejected != null) {
        var searchDoc = new Document("ds_ws.search_orderNumber");
        searchDoc.orderNumber = orderNumberRejected;

        var resultList = Finder.runFinder("processSTC.findOrdersRejectedForLock", "select", searchDoc);

        if(resultList != null && resultList.length > 0) {
            var doc = resultList[0];
            doc.deleteItem();
            debugPrintln("[" + common.common_currentDateAsStringDDMMYYYYHH24MISS() + "] - removeOrderToFailedOrdersForLockList - Removed order '" + orderNumberRejected + "' from the list");
        }
        else {
            debugPrintln("[" + common.common_currentDateAsStringDDMMYYYYHH24MISS() + "] - removeOrderToFailedOrdersForLockList - Order '" + orderNumberRejected + "' was not in the list");
        }
    }
  ]]></script>
</script>