<?xml version="1.0" encoding="UTF-8" ?>
<script name="migrationSTC.createLegacyOrderFromGIPath">
  <label>Create Legacy Order From GI Path</label>
  <metaVersion>25</metaVersion>
  <parameterList>
    <parameter name="pathName" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var errorMsg = null;

    debugPrintln("[" + common.common_currentDateAsStringDDMMYYYYHH24MISS() + "] createLegacyOrderFromGIPath - input: " + pathName);

    var result = Global.runDBStoredProcedure("ORDER", "call CreateLegacyOrderFromGIPath(?,?)", pathName, null, false, false, "common.genericOutput_String", "I-O");

    if(result != null) {
        errorMsg = result[0].id;
    }

    debugPrintln("[" + common.common_currentDateAsStringDDMMYYYYHH24MISS() + "] createLegacyOrderFromGIPath - errorMsg: " + errorMsg);

    if(errorMsg != null) {
        Global.throwException(errorMsg);
    }
  ]]></script>
</script>