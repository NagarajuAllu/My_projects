<?xml version="1.0" encoding="UTF-8" ?>
<document filenameHash="8936de92b80c8ca8d7090e3fd0d64e0" versionHash="a87ff679a2f3e71d9181a67b7542122c" name="granite.VAL_CUSTOMER">
  <dbSchema>XNG PRODUCTION [USER:STC_TARGET2]</dbSchema>
  <extends>doc_com.conceptwave.system.Document</extends>
  <guid>{00cfed37-86d3-27be-7463-5d8ea1262623}</guid>
  <label>Details: Customer [XNG]</label>
  <metaVersion>4</metaVersion>
  <variableList>
    <variable name="CUST_INST_ID" type="leaf">
      <column>CUST_INST_ID</column>
      <guid>{0f38cc82-8aa0-4e74-913f-9af2184f9521}</guid>
      <label>CUST_INST_ID</label>
      <propertyElement type="elfld">
        <label>CUST_INST_ID</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.INST_ID</valueType>
    </variable>
    <variable name="CUSTOMER_ID" type="leaf">
      <column>CUSTOMER_ID</column>
      <guid>{07fa346a-d4e6-dade-7345-7e66bc0544e9}</guid>
      <key>1</key>
      <label>Id.</label>
      <propertyElement type="elfld">
        <label>Id.</label>
        <optional type="varPath">
          <variablePathList>
            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
          </variablePathList>
        </optional>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.CUSTOMER_ID</valueType>
    </variable>
    <variable name="CUSTOMER_NAME" type="leaf">
      <column>CUSTOMER_NAME</column>
      <guid>{0b506f28-f36a-b4fd-9eb3-4e67d29ab346}</guid>
      <label>Name</label>
      <propertyElement type="elfld">
        <label>Name</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.CUSTOMER_NAME</valueType>
    </variable>
    <variable name="COMMENTS" type="leaf">
      <column>COMMENTS</column>
      <guid>{01a2e350-5cdb-b24d-a123-92bf3b0c4afe}</guid>
      <label>Comments</label>
      <propertyElement type="elfld">
        <label>Comments</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.COMMENTS</valueType>
    </variable>
    <variable name="TYPE" type="leaf">
      <column>TYPE</column>
      <guid>{0b05177e-4a48-0c06-8024-05998bd879f1}</guid>
      <label>Type</label>
      <propertyElement type="elslct">
        <label>Type</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.TYPE</valueType>
    </variable>
    <variable name="PRIMARY_PHONE_NO" type="leaf">
      <column>PRIMARY_PHONE_NO</column>
      <guid>{03202506-3ce1-6739-ea65-2809d1180660}</guid>
      <label>Primary Phone #</label>
      <propertyElement type="elfld">
        <label>Primary Phone #</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.PRIMARY_PHONE_NO</valueType>
    </variable>
    <variable name="TECH_CONTACTS" type="leaf">
      <column>TECH_CONTACTS</column>
      <guid>{00e79641-6711-308a-a817-338214005305}</guid>
      <label>Technical Contacts</label>
      <propertyElement type="elfld">
        <label>Technical Contacts</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.TECH_CONTACTS</valueType>
    </variable>
    <variable name="BILLING_CONTACTS" type="leaf">
      <column>BILLING_CONTACTS</column>
      <guid>{014a7c83-9ac3-f90e-6672-9696926b669f}</guid>
      <label>Billing Contacts</label>
      <propertyElement type="elfld">
        <label>Billing Contacts</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.BILLING_CONTACTS</valueType>
    </variable>
    <variable name="BILLING_ADDRESS" type="leaf">
      <column>BILLING_ADDRESS</column>
      <guid>{04cafd1b-ef9c-defd-003b-e4add45870cf}</guid>
      <label>Billing Address</label>
      <propertyElement type="elfld">
        <label>Billing Address</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.BILLING_ADDRESS</valueType>
    </variable>
    <variable name="POST_CODE_1" type="leaf">
      <column>POST_CODE_1</column>
      <guid>{043a0638-f987-4ec2-c082-996890e48689}</guid>
      <label>Post Code 1</label>
      <propertyElement type="elfld">
        <label>Post Code 1</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.POST_CODE_1</valueType>
    </variable>
    <variable name="POST_CODE_2" type="leaf">
      <column>POST_CODE_2</column>
      <guid>{0f102509-9ae1-723e-e9e1-3f88ced07fd7}</guid>
      <label>Post Code 2</label>
      <propertyElement type="elfld">
        <label>Post Code 2</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.POST_CODE_2</valueType>
    </variable>
    <variable name="CITY" type="leaf">
      <column>CITY</column>
      <guid>{05f48881-b558-d580-afc6-8f9e50020097}</guid>
      <label>City</label>
      <propertyElement type="elfld">
        <label>City</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.CITY</valueType>
    </variable>
    <variable name="STATE_PROV" type="leaf">
      <column>STATE_PROV</column>
      <guid>{0824cdef-0ab0-0f3f-acbc-cc38a7149276}</guid>
      <label>State</label>
      <propertyElement type="elfld">
        <label>State</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.STATE_PROV</valueType>
    </variable>
    <variable name="COUNTRY" type="leaf">
      <column>COUNTRY</column>
      <guid>{0fae5470-1920-4025-63ee-fd048e2da753}</guid>
      <label>Country</label>
      <propertyElement type="elfld">
        <label>Country</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.COUNTRY</valueType>
    </variable>
    <variable name="ROOM" type="leaf">
      <column>ROOM</column>
      <guid>{05b684a4-6894-a8a6-5083-c81b15643648}</guid>
      <label>Room</label>
      <propertyElement type="elfld">
        <label>Room</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.ROOM</valueType>
    </variable>
    <variable name="FLOOR" type="leaf">
      <column>FLOOR</column>
      <guid>{0b036ebf-da2d-27b8-a7b7-a34dbbac7494}</guid>
      <label>Floor</label>
      <propertyElement type="elfld">
        <label>Floor</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.FLOOR</valueType>
    </variable>
    <variable name="BILLING_FAX" type="leaf">
      <column>BILLING_FAX</column>
      <guid>{0fcc7da3-7c4e-2231-7cc2-2d7c22825971}</guid>
      <label>Billing Fax</label>
      <propertyElement type="elfld">
        <label>Billing Fax</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.BILLING_FAX</valueType>
    </variable>
    <variable name="BILLING_CODE" type="leaf">
      <column>BILLING_CODE</column>
      <guid>{0f1f0344-db91-311e-dbf6-33a9e5ee8802}</guid>
      <label>Biulling Code</label>
      <propertyElement type="elfld">
        <label>Biulling Code</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.BILLING_CODE</valueType>
    </variable>
    <variable name="CUST_STATUS" type="leaf">
      <column>CUST_STATUS</column>
      <guid>{088c0e93-166c-fe37-caf7-d0f242bf548a}</guid>
      <label>Status</label>
      <propertyElement type="elfld">
        <label>Status</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.CUST_STATUS</valueType>
    </variable>
    <variable name="PARENT_CUST_ID" type="leaf">
      <column>PARENT_CUST_ID</column>
      <guid>{0c6a59ee-03f6-135a-22f0-3e424f8286c7}</guid>
      <label>Parent Customer Id.</label>
      <propertyElement type="elfld">
        <label>Parent Customer Id.</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.PARENT_CUST_ID</valueType>
    </variable>
    <variable name="LAST_MOD_TS" type="leaf">
      <column>LAST_MOD_TS</column>
      <guid>{046ed95c-eec9-93c3-f0e5-c48e197be4b4}</guid>
      <label>LAST_MOD_TS</label>
      <propertyElement type="eldatetime">
        <label>LAST_MOD_TS</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_com.conceptwave.system.DateTime</valueType>
    </variable>
    <variable name="LAST_MOD_BY" type="leaf">
      <column>LAST_MOD_BY</column>
      <guid>{083e55b3-e023-a02a-217a-9147bd880a07}</guid>
      <label>LAST_MOD_BY</label>
      <propertyElement type="elfld">
        <label>LAST_MOD_BY</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.LAST_MOD_BY</valueType>
    </variable>
    <variable name="LOCK_TS" type="leaf">
      <column>LOCK_TS</column>
      <guid>{0e3062e3-ae60-5385-baf5-b109e8445211}</guid>
      <label>LOCK_TS</label>
      <propertyElement type="eldatetime">
        <label>LOCK_TS</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_com.conceptwave.system.DateTime</valueType>
    </variable>
    <variable name="LOCK_BY" type="leaf">
      <column>LOCK_BY</column>
      <guid>{093ffa46-4645-1f1e-dcec-3391589089cd}</guid>
      <label>LOCK_BY</label>
      <propertyElement type="elfld">
        <label>LOCK_BY</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.LOCK_BY</valueType>
    </variable>
    <variable name="INST_VER" type="leaf">
      <column>INST_VER</column>
      <guid>{0d2c907f-693f-9a0c-0554-1b42838556b9}</guid>
      <label>INST_VER</label>
      <propertyElement type="elfld">
        <label>INST_VER</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.INST_VER</valueType>
    </variable>
    <variable name="COUNTY" type="leaf">
      <column>COUNTY</column>
      <guid>{05860b7b-654b-2ced-fd2c-df2e9d1fd00f}</guid>
      <label>County</label>
      <propertyElement type="elfld">
        <label>County</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.COUNTY</valueType>
    </variable>
    <variable name="NPA_NXX" type="leaf">
      <column>NPA_NXX</column>
      <guid>{0c8fb228-f57a-f5ce-a3d5-47186dd42da3}</guid>
      <label>NPA_NXX</label>
      <propertyElement type="elfld">
        <label>NPA_NXX</label>
      </propertyElement>
      <table>VAL_CUSTOMER</table>
      <valueType>dtype_granite.NPA_NXX</valueType>
    </variable>
  </variableList>
  <UserInterface name="UserInterface" type="ui">
    <extends>doc_com.conceptwave.system.Document/ui_UserInterface</extends>
    <variableList>
      <variable name="model" type="uivar">
        <label>model</label>
        <valueType>doc_granite.VAL_CUSTOMER</valueType>
      </variable>
    </variableList>
    <vformList>
      <vform name="Forms" type="frmui">
        <extends>doc_com.conceptwave.system.Document/ui_UserInterface/frmui_Forms</extends>
        <overlayList>
          <overlay name="Default" type="exov">
            <base>ui_com.conceptwave.system.DocumentUserInterface/frmui_Forms/exov_Default</base>
            <extends>ui_com.conceptwave.system.DocumentUserInterface/frmui_Forms/exov_Default</extends>
            <label>Default</label>
            <overrideList>
              <override name="default_mainInformationGrid_vCentering" type="elvltstck">
                <height>100%</height>
                <membersMargin>5</membersMargin>
                <width>100%</width>
                <elementList>
                  <element name="VAL_CUSTOMERHeader" type="elhdr">
                    <label>Customer: Main Information</label>
                    <showValidation>true</showValidation>
                    <style>CwFOT</style>
                  </element>
                  <element name="VAL_CUSTOMERHeader1" type="elhdr">
                    <label>Customer Information</label>
                  </element>
                  <element name="groupGrid" type="elgrd">
                    <colWidths>117,195,117,195,117,195</colWidths>
                    <labelOrientation>left</labelOrientation>
                    <numOfCols>6</numOfCols>
                    <style>fittedSimpleBorder</style>
                    <useDefaultHeight>true</useDefaultHeight>
                    <width>936px</width>
                    <wrapLabel>true</wrapLabel>
                    <elementList>
                      <element name="CUSTOMER_ID1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_CUSTOMER_ID</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="CUSTOMER_NAME1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_CUSTOMER_NAME</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="COMMENTS1" type="elfld">
                        <columnSpan>3</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_COMMENTS</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="TYPE1" type="elslct">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <sorted>false</sorted>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_TYPE</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="CUST_STATUS1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_CUST_STATUS</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="TECH_CONTACTS1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_TECH_CONTACTS</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="divider" type="elsep"/>
                      <element name="FLOOR1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_FLOOR</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="ROOM1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_ROOM</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="CITY1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_CITY</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="COUNTY1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_COUNTY</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="STATE_PROV1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_STATE_PROV</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="POST_CODE_11" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_POST_CODE_1</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="POST_CODE_21" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_POST_CODE_2</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="COUNTRY1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_COUNTRY</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="PRIMARY_PHONE_NO1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_PRIMARY_PHONE_NO</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="Contacts1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <label>Contacts</label>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_BILLING_CONTACTS</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="Code1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <label>Code</label>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_BILLING_CODE</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="Address1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <label>Address</label>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_BILLING_ADDRESS</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                      <element name="Fax1" type="elfld">
                        <columnSpan>1</columnSpan>
                        <editable type="varPath">
                          <variablePathList>
                            <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                          </variablePathList>
                        </editable>
                        <label>Fax</label>
                        <variable type="varPath">
                          <variablePathList>
                            <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                            <variablePath>doc_granite.VAL_CUSTOMER/leaf_BILLING_FAX</variablePath>
                          </variablePathList>
                        </variable>
                      </element>
                    </elementList>
                  </element>
                </elementList>
              </override>
            </overrideList>
          </overlay>
          <overlay name="output_mainInformation" type="vform">
            <label>output_mainInformation</label>
            <root name="output_mainInformationGrid_vCentering" type="elvltstck">
              <height>100%</height>
              <membersMargin>5</membersMargin>
              <width>100%</width>
              <elementList>
                <element name="VAL_CUSTOMERHeader" type="elhdr">
                  <label>Customer: Main Information</label>
                  <showValidation>true</showValidation>
                  <style>CwFOT</style>
                </element>
                <element name="VAL_CUSTOMERHeader2" type="elhdr">
                  <label>Customer Information</label>
                </element>
                <element name="groupGrid" type="elgrd">
                  <colWidths>117,195,117,195,117,195</colWidths>
                  <labelOrientation>left</labelOrientation>
                  <numOfCols>6</numOfCols>
                  <style>fittedSimpleBorder</style>
                  <useDefaultHeight>true</useDefaultHeight>
                  <width>936px</width>
                  <wrapLabel>true</wrapLabel>
                  <elementList>
                    <element name="CUSTOMER_ID3" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_granite.VAL_CUSTOMER/leaf_CUSTOMER_ID</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="CUSTOMER_NAME3" type="elfld">
                      <columnSpan>3</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_granite.VAL_CUSTOMER/leaf_CUSTOMER_NAME</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="TYPE3" type="elslct">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <sorted>false</sorted>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_granite.VAL_CUSTOMER/leaf_TYPE</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                    <element name="CUST_STATUS3" type="elfld">
                      <columnSpan>1</columnSpan>
                      <editable type="varPath">
                        <variablePathList>
                          <variablePath>dtype_com.conceptwave.system.Boolean/leaf_FALSE</variablePath>
                        </variablePathList>
                      </editable>
                      <variable type="varPath">
                        <variablePathList>
                          <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/uivar_model</variablePath>
                          <variablePath>doc_granite.VAL_CUSTOMER/leaf_CUST_STATUS</variablePath>
                        </variablePathList>
                      </variable>
                    </element>
                  </elementList>
                </element>
              </elementList>
            </root>
          </overlay>
          <overlay name="Menu" type="exov">
            <base>doc_com.conceptwave.system.Document/ui_UserInterface/frmui_Forms/exov_Menu</base>
            <extends>doc_com.conceptwave.system.Document/ui_UserInterface/frmui_Forms/exov_Menu</extends>
            <label>Menu</label>
            <overrideList>
              <override name="cwfSave" type="eldel"/>
              <override name="hl1" type="elext">
                <elementList>
                  <element name="validate" type="elmnu">
                    <menuAccel type="mAccelP">
                      <keyName>V</keyName>
                      <keys enum-type="menuAccelFlag">ALT_KEY</keys>
                    </menuAccel>
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/usrActionMethod_validateMeth_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <icon>/cwf/complete.gif</icon>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/permMethod_validateMethView</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="submitOrder" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/usrActionMethod_submitOrder_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Submit Order (To Granite)</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/permMethod_viewByActionOnOrderCreateForOMAndHomeView</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="updateOrder" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/usrActionMethod_updateOrder_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Update Order (To Granite)</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/permMethod_viewByActionOnOrderUpdateForOMView</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="addSP_VOIP" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/usrActionMethod_addSP_VOIP_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Add Service Parameters: &quot;VOIP&quot;</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/permMethod_viewByActionOnOrderCreateForOMAndHomeView1</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="addSP_HSI" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/usrActionMethod_addSP_HSI_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Add Service Parameters: &quot;HSI&quot;</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/permMethod_viewByActionOnOrderCreateForOMAndHomeView2</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="addSP" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/usrActionMethod_addSP_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Add Further Service Parameters</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/permMethod_viewByActionOnOrderCreateForOMAndHomeView3</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="addNV" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/usrActionMethod_addNV_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Add &quot;Name Value&quot;</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/permMethod_viewByActionOnOrderCreateForSPAndHomeView</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="deleteSP" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/usrActionMethod_deleteSP_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Delete &quot;Service Parameters&quot;</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/permMethod_viewByActionOnOrderCreateForSPAndHomeView1</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                  <element name="deleteNV" type="elmnu">
                    <clickMethod type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/usrActionMethod_deleteNV_menu</variablePath>
                      </variablePathList>
                    </clickMethod>
                    <label>Delete &quot;Name Value&quot;</label>
                    <menuType>5</menuType>
                    <showDown>true</showDown>
                    <showRollOver>true</showRollOver>
                    <visible type="varPath">
                      <variablePathList>
                        <variablePath>doc_granite.VAL_CUSTOMER/ui_UserInterface/permMethod_viewByActionOnOrderCreateForNVView</variablePath>
                      </variablePathList>
                    </visible>
                  </element>
                </elementList>
              </override>
            </overrideList>
          </overlay>
        </overlayList>
      </vform>
    </vformList>
    <methodList>
      <method name="runTrigger" type="usrActionMethod">
        <script><![CDATA[
          this.cw$super_runTrigger();
          Global.runContentDisplayScript(this, "displayScript");
        ]]></script>
      </method>
      <method name="validateMeth" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script>return 1;</script>
      </method>
      <method name="validateMeth_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_granite.VAL_CUSTOMER/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.validateMeth();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="cwAutosaveConfirmation" type="action">
        <valueType>dtype_com.conceptwave.system.String</valueType>
        <script><![CDATA[
          if (!this.isValid && Global.isAutosaveEnabled() && !this.model.readonly && this.model.isSavable()) {
            return "UU0256:YN";
          }
          return null;
        ]]></script>
      </method>
      <method name="validateMethView" type="permMethod">
        <script><![CDATA[
          // SCRIPT MIGRATION: if null, return false
          var $v=
          !this.model._isSearch() && this.model._getNoDBOperations();
          if ($v == null)
             return false;
          else return $v;
        ]]></script>
      </method>
      <method name="submitOrder" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                var debug = "[MENU ITEM: SUBMIT ORDER]";
                // Submit the order to Granite
                var order = document.order;


                // [b] Validation of the 'STC Order'
                var validation = null;
                var exceptionMessage = "";
                try {

                      var checkHSI = false;
                      var checkVOIP = false;
                      var checkAttributeCSC = false;
                      var checkAttributeRatePlan = false;
                      var checkAttributeSuppCodes = false;
                      var checkAttributeDownStreamBW = false;
                      var checkAttributeUpStreamBW = false;

                      // [a] Validation on the services of the order
                      var services = order.serviceParametersList;
                      if (services != null && services.count > 0) {
                            for (var p = 0; p < services.count; p++) {
                                  var service = services[p].serviceParameters.serviceType;
                                  if (service == "FTTH_VOIP") {
                                        checkVOIP = true;
                                        var attributes = services[p].nameValueList;
                                        if (attributes != null && attributes.count > 0) {
                                              for (var v = 0; v < attributes.count; v++) {
                                                    var attribute = attributes[v].nameValue.name;
                                                    var value = attributes[v].nameValue.value;
                                                    if (attribute == "CSC" && value != null && value.trim() != "") checkAttributeCSC = true;
                                                    if (attribute == "Rate Plan" && value != null && value.trim() != "") checkAttributeRatePlan = true;
                                                    if (attribute == "SUPP_CODES" && value != null && value.trim() != "") checkAttributeSuppCodes = true;
                                              }
                                        }
                                  }
                                  if (service == "FTTH_HSI") {
                                        checkHSI = true;
                                        var attributes = services[p].nameValueList;
                                        if (attributes != null && attributes.count > 0) {
                                              for (var v = 0; v < attributes.count; v++) {
                                                    var attribute = attributes[v].nameValue.name;
                                                    var value = attributes[v].nameValue.value;
                                                    if (attribute == "DownstreamBandwidth" && value != null && value.trim() != "") checkAttributeDownStreamBW = true;
                                                    if (attribute == "UpstreamBandwidth" && value != null && value.trim() != "") checkAttributeUpStreamBW = true;
                                              }
                                        }
                                  }
                            }
                      }
                      // - check if HSI or VOIP services are included (at least one must be there)
                      if (!checkHSI && !checkVOIP){
                            // Customized exception AE0010:
                            // - Inconsistent request: at least one service, either HSI or VOIP, must be defined!
                            Global.throwException("AE0010");
                      }
                      // - check if VOIP service includes all the mandatory attributes
                      if (checkVOIP && (!checkAttributeCSC || !checkAttributeRatePlan || !checkAttributeSuppCodes)) {
                            // Customized exception AE0011:
                            // - Incosistent request: attributes 'CSC', 'Rate Plan' and 'SUPP_CODES' must be defined for VOIP service!
                            Global.throwException("AE0011");
                      }
                      // - check if HSI service includes all the mandatory attributes
                      if (checkHSI && (!checkAttributeDownStreamBW || !checkAttributeUpStreamBW)) {
                            // Customized exception AE0012:
                            // - Incosistent request: attributes 'DownstreamBandwidth' and 'UpstreamBandwidth' must be defined for HSI service!
                            Global.throwException("AE0012");
                      }

                      validation = order.validate(10, true);
                      if (validation != null) {
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "FOUND VALIDATIONS ERROR FOR ORDER STC WITH ID: " + order.id + "...");

                            for (var j = 0; j < validation.length; j = j + 2) {
                                  exceptionMessage = exceptionMessage + "[CODE '" + validation[j] + "' MESSAGE '" + validation[j + 1] + "']\n";
                            }


                            var errorMessage = "";
                            if(validation.length > 1) {
                                  errorMessage = (validation[1] == null ? validation[0] : validation[1]);
                            }
                            else if(validation.length > 0) {
                                  errorMessage = validation[0];
                            }
                            // Customized exception AE0003:
                            // - Validation errors found while processing "{0}" with id. "{1}": {2}!
                            Global.throwException(Global.translateText("AE0003", null, ["Order STC", order.orderMessage.orderNumber, errorMessage]));
                      }
                      // Modified the 09.10.2008:
                      // - according to mail of Mick Winters
                      // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                      order.orderMessage.internalOrderStatus = "Order Received";
                      order.save();
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "ORDER MADE PERSISTENT ON THE DB...");

                      // Modified the 09.10.2008:
                      // - according to mail of Mick Winters
                      // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                      order.orderMessage.internalOrderStatus = "Waiting for Granite Response";
                      order.save();

                      var pid = Process.startProcess("processSTC:mainSTCProcess", order.id);
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "Started Process with pid " + pid);

                      Global.commitTransaction("ORDER");

                      var countSleeping = 0;

                      var processCompleted = false;
                      while(!processCompleted) {
                            // sleeps 5 seconds and checks the status of the process ...
          //debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "Sleeping before checking the status of Process " + pid);
                            processSTC.timeDelay("GRANITE_RESPONSE_DELAY_TIME");

                            processCompleted = processSTC.checkIfProcessIsCompleted(pid);
                            countSleeping++;
                      }

                      // reload the order because modified by the process
                      var cworderId = order.id;
                      order = Order.getOrderById(cworderId);

                      if (order.orderACK.Status == "SUCCESS") {
                            // Modified the 09.10.2008:
                            // - according to mail of Mick Winters
                            // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                            order.orderMessage.internalOrderStatus = "Granite Call SUCCESSFUL";
                            order.orderMessage.circuitStatus = "ORDERED";
                            order.orderMessage.orderStatus = "READY";
                            order.save();
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + "<SUBMIT ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' WORKED CORRECTLY!");
                            Global.logDebug("<SUBMIT ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' WORKED CORRECTLY!");

                            var message = "ACTION: SUBMIT ORDER (TO GRANITE):\nORDER # '" + order.orderMessage.orderNumber + "' WORKED CORRECTLY!";
                            Global.showUserMessage(message);

                            Global.setApplication("ds_ws:report");
                      }
                      else{
                            // Modified the 09.10.2008:
                            // - according to mail of Mick Winters
                            // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                            order.orderMessage.internalOrderStatus = "Order Rejected By Granite";
                            order.save();
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + "<SUBMIT ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' NOT STORED... Order Rejected By Granite [" + order.orderACK.ErrorDescription + "]...");
                            Global.logDebug("<SUBMIT ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' NOT STORED... Order Rejected By Granite [" + order.orderACK.ErrorDescription + "]...");

                            var message = "ACTION: SUBMIT ORDER (TO GRANITE):\nORDER # '" + order.orderMessage.orderNumber + "' NOT STORED... Order Rejected By Granite [" + order.orderACK.ErrorDescription + "]...";
                            Global.showUserMessage(message);
                      }
                }
                catch(exc){
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "CATCHED ERROR MAKING THE ORDER PERSISTENT ON THE DB [" + exc.message + "]...");
                      var message = "ACTION: SUBMIT ORDER (TO GRANITE):\n" + exc.message + "\n" + exceptionMessage;
                      Global.showUserMessage(message);
                }
        ]]></script>
      </method>
      <method name="submitOrder_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_granite.VAL_CUSTOMER/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.submitOrder();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderCreateForOMAndHomeView" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderCreateForOMAndHomeView</reference>
      </method>
      <method name="updateOrder" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                var debug = "[MENU ITEM: UPDATE ORDER]";
                // Update the order to Granite
                var order = document.order;

                // [b] Validation of the 'STC Order'
                var validation = null;
                var exceptionMessage = "";
                try {

                      validation = order.validate(10, true);
                      if (validation != null) {
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "FOUND VALIDATIONS ERROR FOR ORDER STC WITH ID: " + order.id + "...");

                            for (var j = 0; j < validation.length; j = j + 2) {
                                  exceptionMessage = exceptionMessage + "[CODE '" + validation[j] + "' MESSAGE '" + validation[j + 1] + "']\n";
                            }

                            var errorMessage = "";
                            if(validation.length > 1) {
                                  errorMessage = (validation[1] == null ? validation[0] : validation[1]);
                            }
                            else if(validation.length > 0) {
                                  errorMessage = validation[0];
                            }
                            // Customized exception AE0003:
                            // - Validation errors found while processing "{0}" with id. "{1}": {2}!
                            Global.throwException(Global.translateText("AE0003", null, ["Order STC", order.orderMessage.orderNumber, errorMessage]));
                      }
                      // Modified the 09.10.2008:
                      // - according to mail of Mick Winters
                      // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                      order.orderMessage.internalOrderStatus = "Order Received";
                      order.save();
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "ORDER MADE PERSISTENT ON THE DB...");

                      // Modified the 09.10.2008:
                      // - according to mail of Mick Winters
                      // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                      order.orderMessage.internalOrderStatus = "Waiting for Granite Response";
                      order.save();

                      var pid = Process.startProcess("processSTC:mainSTCProcess", order.id);
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "Started Process with pid " + pid);

                      Global.commitTransaction("ORDER");

                      var countSleeping = 0;

                      var processCompleted = false;
                      while(!processCompleted) {
                            // sleeps 5 seconds and checks the status of the process ...
          //debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "Sleeping before checking the status of Process " + pid);
                            processSTC.timeDelay("GRANITE_RESPONSE_DELAY_TIME");

                            processCompleted = processSTC.checkIfProcessIsCompleted(pid);
                            countSleeping++;
                      }

                      // reload the order because modified by the process
                      var cworderId = order.id;
                      order = Order.getOrderById(cworderId);

                      if (order.orderACK.Status == "SUCCESS") {
                            // Modified the 09.10.2008:
                            // - according to mail of Mick Winters
                            // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                            order.orderMessage.internalOrderStatus = "Granite Call SUCCESSFUL";
                            order.save();
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + "<UPDATE ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' WORKED CORRECTLY!");
                            Global.logDebug("<UPDATE ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' WORKED CORRECTLY!");

                            var message = "ACTION: UPDATE ORDER (TO GRANITE):\nORDER # '" + order.orderMessage.orderNumber + "' WORKED CORRECTLY!";
                            Global.showUserMessage(message);

                            Global.setApplication("ds_ws:report");
                      }
                      else{
                            // Modified the 09.10.2008:
                            // - according to mail of Mick Winters
                            // ["RE: Additional functionality for Expediter passthrough", Thu 10/9/2008 12:52 PM]
                            order.orderMessage.internalOrderStatus = "Order Rejected By Granite";
                            order.save();
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + "<UPDATE ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' NOT STORED... Order Rejected By Granite [" + order.orderACK.ErrorDescription + "]...");
                            Global.logDebug("<UPDATE ORDER> WITH 'ORDER #': '" + order.orderMessage.orderNumber + "' NOT STORED... Order Rejected By Granite [" + order.orderACK.ErrorDescription + "]...");

                            var message = "ACTION: UPDATE ORDER (TO GRANITE):\nORDER # '" + order.orderMessage.orderNumber + "' NOT STORED... Order Rejected By Granite [" + order.orderACK.ErrorDescription + "]...";
                            Global.showUserMessage(message);
                      }
                }
                catch(exc){
          debugPrintln("[" + ds_ws.common_currentDateAsStringDDMMYYYYHH24MISS() + "]" + debug + "CATCHED ERROR MAKING THE ORDER PERSISTENT ON THE DB [" + exc.message + "]...");
                      var message = "ACTION: UPDATE ORDER (TO GRANITE):\n" + exc.message + "\n" + exceptionMessage;
                      Global.showUserMessage(message);
                }
        ]]></script>
      </method>
      <method name="updateOrder_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_granite.VAL_CUSTOMER/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.updateOrder();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderUpdateForOMView" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderUpdateForOMView</reference>
      </method>
      <method name="addSP_VOIP" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                // Retrieve the document defined in the pop-up window
          //      if (this.confirmObject != null) {

          //            var sp = this.confirmObject.listSP;
          //            if (sp == "VOIP") {

                            // Check if the Service Parameters requested is already defined
                            var order = document.order;
                            for (var k = 0; order.serviceParametersList != null && k < order.serviceParametersList.count; k++) {
                                  if (order.serviceParametersList[k].serviceParameters.serviceType == "FTTH_VOIP") {
                                        Global.throwException("Action not performed: the order already contains a 'VOIP' service!");
                                  }
                            }

                            // Add a VOIP "Service Parameters" item
                            if (order.serviceParametersList == null){
                                  order.addItem("serviceParametersList");
                            }
                            var item = order.serviceParametersList.newInstance();
                            item.serviceParameters.serviceType = "FTTH_VOIP";
                            item.serviceParameters.creationDate = new Date();
                            // Setting the Service Date as today + 7 days
                            var today = new Date();
                            var todayMS = today.getTime();
                            var weekMS = 604800000;
                            item.serviceParameters.serviceDate = new Date(todayMS + weekMS);

                            // Adding the attributes for VOIP
                            if (item.nameValueList == null){
                                  item.addItem("nameValueList");
                            }
                            var attributeCSC = item.nameValueList.newInstance();
                            attributeCSC.nameValue.name = "CSC";
                            var attributeRatePlan = item.nameValueList.newInstance();
                            attributeRatePlan.nameValue.name = "Rate Plan";
                            var attributeSuppCodes = item.nameValueList.newInstance();
                            attributeSuppCodes.nameValue.name = "SUPP_CODES";
          //            }
          //            else if (sp == "HSI") {

                            // Add a VOIP "Service Parameters" item
          //                  var order = document.order;
          //                  if (order.serviceParametersList == null){
          //                        order.addItem("serviceParametersList");
          //                  }
          //                  var item = order.serviceParametersList.newInstance();
          //                  item.serviceParameters.serviceType = "HSI";
                            // Adding the attributes for HSI
          //                  if (item.nameValueList == null){
          //                        item.addItem("nameValueList");
          //                  }
          //                  var attributeDownStreamBW = item.nameValueList.newInstance();
          //                  attributeDownStreamBW.nameValue.name = "DownstreamBandwidth";
          //                  var attributeUpStreamBW = item.nameValueList.newInstance();
          //                  attributeUpStreamBW.nameValue.name = "UpstreamBandwidth";
          //            }
          //            else{

                            // Add a generic "Service Parameters" item
          //                  var order = document.order;
          //                  if (order.serviceParametersList == null){
          //                        order.addItem("serviceParametersList");
          //                  }
          //                  order.serviceParametersList.newInstance();
          //            }
          //      }
        ]]></script>
      </method>
      <method name="addSP_VOIP_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_granite.VAL_CUSTOMER/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.addSP_VOIP();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderCreateForOMAndHomeView1" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderCreateForOMAndHomeView</reference>
      </method>
      <method name="addSP_HSI" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                // Retrieve the document defined in the pop-up window
          //      if (this.confirmObject != null) {

          //            var sp = this.confirmObject.listSP;
          //            if (sp == "VOIP") {

                            // Add a VOIP "Service Parameters" item
          //                  var order = document.order;
          //                  if (order.serviceParametersList == null){
          //                        order.addItem("serviceParametersList");
          //                  }
          //                  var item = order.serviceParametersList.newInstance();
          //                  item.serviceParameters.serviceType = "VOIP";
                            // Adding the attributes for VOIP
          //                  if (item.nameValueList == null){
          //                        item.addItem("nameValueList");
          //                  }
          //                  var attributeCSC = item.nameValueList.newInstance();
          //                  attributeCSC.nameValue.name = "CSC";
          //                  var attributeRatePlan = item.nameValueList.newInstance();
          //                  attributeRatePlan.nameValue.name = "Rate Plan";
          //                  var attributeSuppCodes = item.nameValueList.newInstance();
          //                  attributeSuppCodes.nameValue.name = "SUPP_CODES";
          //            }
          //            else if (sp == "HSI") {

                            // Check if the Service Parameters requested is already defined
                            var order = document.order;
                            for (var k = 0; order.serviceParametersList != null && k < order.serviceParametersList.count; k++) {
                                  if (order.serviceParametersList[k].serviceParameters.serviceType == "FTTH_HSI") {
                                        Global.throwException("Action not performed: the order already contains a 'HSI' service!");
                                  }
                            }

                            // Add a HSI "Service Parameters" item
                            if (order.serviceParametersList == null){
                                  order.addItem("serviceParametersList");
                            }
                            var item = order.serviceParametersList.newInstance();
                            item.serviceParameters.serviceType = "FTTH_HSI";
                            item.serviceParameters.creationDate = new Date();
                            // Setting the Service Date as today + 7 days
                            var today = new Date();
                            var todayMS = today.getTime();
                            var weekMS = 604800000;
                            item.serviceParameters.serviceDate = new Date(todayMS + weekMS);

                            // Adding the attributes for HSI
                            if (item.nameValueList == null){
                                  item.addItem("nameValueList");
                            }
                            var attributeDownStreamBW = item.nameValueList.newInstance();
                            attributeDownStreamBW.nameValue.name = "DownstreamBandwidth";
                            var attributeUpStreamBW = item.nameValueList.newInstance();
                            attributeUpStreamBW.nameValue.name = "UpstreamBandwidth";
          //            }
          //            else{

                            // Add a generic "Service Parameters" item
          //                  var order = document.order;
          //                  if (order.serviceParametersList == null){
          //                        order.addItem("serviceParametersList");
          //                  }
          //                  order.serviceParametersList.newInstance();
          //            }
          //      }
        ]]></script>
      </method>
      <method name="addSP_HSI_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_granite.VAL_CUSTOMER/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.addSP_HSI();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderCreateForOMAndHomeView2" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderCreateForOMAndHomeView</reference>
      </method>
      <method name="addSP" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                // Retrieve the document defined in the pop-up window
          //      if (this.confirmObject != null) {

          //            var sp = this.confirmObject.listSP;
          //            if (sp == "VOIP") {

                            // Add a VOIP "Service Parameters" item
          //                  var order = document.order;
          //                  if (order.serviceParametersList == null){
          //                        order.addItem("serviceParametersList");
          //                  }
          //                  var item = order.serviceParametersList.newInstance();
          //                  item.serviceParameters.serviceType = "VOIP";
                            // Adding the attributes for VOIP
          //                  if (item.nameValueList == null){
          //                        item.addItem("nameValueList");
          //                  }
          //                  var attributeCSC = item.nameValueList.newInstance();
          //                  attributeCSC.nameValue.name = "CSC";
          //                  var attributeRatePlan = item.nameValueList.newInstance();
          //                  attributeRatePlan.nameValue.name = "Rate Plan";
          //                  var attributeSuppCodes = item.nameValueList.newInstance();
          //                  attributeSuppCodes.nameValue.name = "SUPP_CODES";
          //            }
          //            else if (sp == "HSI") {

                            // Add a VOIP "Service Parameters" item
          //                  var order = document.order;
          //                  if (order.serviceParametersList == null){
          //                        order.addItem("serviceParametersList");
          //                  }
          //                  var item = order.serviceParametersList.newInstance();
          //                  item.serviceParameters.serviceType = "HSI";
                            // Adding the attributes for HSI
          //                  if (item.nameValueList == null){
          //                        item.addItem("nameValueList");
          //                  }
          //                  var attributeDownStreamBW = item.nameValueList.newInstance();
          //                  attributeDownStreamBW.nameValue.name = "DownstreamBandwidth";
          //                  var attributeUpStreamBW = item.nameValueList.newInstance();
          //                  attributeUpStreamBW.nameValue.name = "UpstreamBandwidth";
          //            }
          //            else{

                            // Add a generic "Service Parameters" item
                            var order = document.order;
                            if (order.serviceParametersList == null){
                                  order.addItem("serviceParametersList");
                            }
                            var item = order.serviceParametersList.newInstance();
                            item.serviceParameters.creationDate = new Date();
                            // Setting the Service Date as today + 7 days
                            var today = new Date();
                            var todayMS = today.getTime();
                            var weekMS = 604800000;
                            item.serviceParameters.serviceDate = new Date(todayMS + weekMS);
          //            }
          //      }
        ]]></script>
      </method>
      <method name="addSP_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_granite.VAL_CUSTOMER/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.addSP();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderCreateForOMAndHomeView3" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderCreateForOMAndHomeView</reference>
      </method>
      <method name="addNV" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                // Add a "Name Value" item
                var order = document.order;

                var position = -1;
                for (var k = 0; k < order.serviceParametersList.count; k++) {
                      if (order.serviceParametersList[k].serviceParameters.id == document.id) {
                            position = k;
                            break;
                      }
                }

                if (order.serviceParametersList[position].nameValueList == null){
                      order.serviceParametersList[position].addItem("nameValueList");
                }

                order.serviceParametersList[position].nameValueList.newInstance();

          //      order.save();
        ]]></script>
      </method>
      <method name="addNV_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_granite.VAL_CUSTOMER/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.addNV();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderCreateForSPAndHomeView" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderCreateForSPAndHomeView</reference>
      </method>
      <method name="deleteSP" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                // Delete a "Service Parameters" item
                var order = document.order;

                var list = document.parentOrderItem.allChildren;

                if (list != null && list.length > 0) {
                      for (var k = 0; k < list.length; k++) {
                            list[k].deleteItem();
                      }
                }

          //      order.save();

                Global.setCurrentObject(order);
        ]]></script>
      </method>
      <method name="deleteSP_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_granite.VAL_CUSTOMER/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.deleteSP();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderCreateForSPAndHomeView1" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderCreateForSPAndHomeView</reference>
      </method>
      <method name="deleteNV" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <autosave>true</autosave>
        <script><![CDATA[
          var document = this.model;

                // Delete a "Name Value" item
                var order = document.order;

                var parent = null;
                for (var k = 0; k < order.serviceParametersList.count; k++) {
                      for (var j = 0; j < order.serviceParametersList[k].nameValueList.count; j++) {
                            if (order.serviceParametersList[k].nameValueList[j].nameValue.id == document.id) {
                                  parent = order.serviceParametersList[k].serviceParameters;
                                  break;
                            }
                      }
                }

                // Those attributes are mandatory for VOIP
                if (parent != null && parent.serviceType == "FTTH_VOIP") {
                      if (document.name == "CSC" ||
                            document.name == "SUPP_CODES" ||
                            document.name == "Rate Plan"){
                            Global.throwException("Action not performed: attribute mandatory for 'VOIP' service!");
                      }
                }

                // Those attributes are mandatory for HSI
                if (parent != null && parent.serviceType == "FTTH_HSI") {
                      if (document.name == "UpstreamBandwidth" ||
                            document.name == "DownstreamBandwidth"){
                            Global.throwException("Action not performed: attribute mandatory for 'HSI' service!");
                      }
                }

                document.deleteItem();

          //      order.save();

                Global.setCurrentObject(order);
        ]]></script>
      </method>
      <method name="deleteNV_menu" type="usrActionMethod">
        <allowInvalidObject>true</allowInvalidObject>
        <confirmation>doc_granite.VAL_CUSTOMER/ui_UserInterface/action_cwAutosaveConfirmation</confirmation>
        <validate>true</validate>
        <script><![CDATA[
          var result = this.deleteNV();
          Global.runContentDisplayScript(this, "displayScript");
          return result;
        ]]></script>
      </method>
      <method name="viewByActionOnOrderCreateForNVView" type="permMethod">
        <reference>permMethod_ds_ws.viewByActionOnOrderCreateForNVView</reference>
      </method>
    </methodList>
  </UserInterface>
</document>