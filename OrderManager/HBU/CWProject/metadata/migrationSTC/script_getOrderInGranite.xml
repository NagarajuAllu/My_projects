<?xml version="1.0" encoding="UTF-8" ?>
<script filenameHash="2c1cad5b34afcaa5a226c65c1ec13d69" versionHash="a87ff679a2f3e71d9181a67b7542122c" name="migrationSTC.getOrderInGranite">
  <label>Get Order In Granite</label>
  <metaVersion>4</metaVersion>
  <parameterList>
    <parameter name="orderNumber" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
    <parameter name="parentOrderNumber" type="rifp">
      <type>dtype_com.conceptwave.system.String</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var result = null;

    if (orderNumber != null) {

          var input = new Document("migrationSTC.searchOrdersInGraniteDoc");
          input.ORDER_TYPE = null;  // reset initialization
          input.SUBMITTED_DATE_YEAR = null;  // reset initialization
          input.ORDER_NUMBER = orderNumber;
          input.PARENT_ORDER_NUMBER = parentOrderNumber;

          var output = Finder.runFinder("migrationSTC.findOrdersInGranite", "select", input);

          if (output != null && output.length > 0) {
                result = output[0];
          }
    }

    return result;
  ]]></script>
</script>